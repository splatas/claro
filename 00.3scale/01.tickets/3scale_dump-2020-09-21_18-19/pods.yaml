apiVersion: v1
kind: Pod
metadata:
  annotations:
    alm-examples: '[{"apiVersion":"apps.3scale.net/v1alpha1","kind":"APIManager","metadata":{"name":"example-apimanager"},"spec":{"wildcardDomain":"example.com"}},
      {"apiVersion":"apps.3scale.net/v1alpha1","kind":"APIManager","metadata":{"name":"example-apimanager-ha"},"spec":{"highAvailability":{"enabled":true},"wildcardDomain":"example.com"}},
      {"apiVersion":"apps.3scale.net/v1alpha1","kind":"APIManager","metadata":{"name":"example-apimanager-s3"},"spec":{"system":{"fileStorage":{"simpleStorageService":{"configurationSecretRef":{"name":"aws-auth"}}}},"wildcardDomain":"<desired-domain>"}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"API","metadata":{"labels":{"environment":"testing"},"name":"example-api"},"spec":{"description":"api01","integrationMethod":{"apicastHosted":{"apiTestGetRequest":"/","authenticationSettings":{"credentials":{"apiKey":{"authParameterName":"user-key","credentialsLocation":"headers"}},"errors":{"authenticationFailed":{"contentType":"text/plain;
      charset=us-ascii","responseBody":"Authentication failed","responseCode":403},"authenticationMissing":{"contentType":"text/plain;
      charset=us-ascii","responseBody":"Authentication Missing","responseCode":403}},"hostHeader":"","secretToken":"MySecretTokenBetweenApicastAndMyBackend_1237120312"},"mappingRulesSelector":{"matchLabels":{"api":"api01"}},"privateBaseURL":"https://echo-api.3scale.net:443"}}}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"Binding","metadata":{"name":"example-binding"},"spec":{"APISelector":{"matchLabels":{"environment":"testing"}},"credentialsRef":{"name":"ecorp-tenant-secret"}}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"Limit","metadata":{"labels":{"api":"api01"},"name":"plan01-metric01-day-10"},"spec":{"description":"Limit
      for metric01 in plan01","maxValue":10,"metricRef":{"name":"metric01"},"period":"day"}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"MappingRule","metadata":{"labels":{"api":"api01"},"name":"metric01-get-path01"},"spec":{"increment":1,"method":"GET","metricRef":{"name":"metric01"},"path":"/path01"}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"Metric","metadata":{"labels":{"api":"api01"},"name":"metric01"},"spec":{"description":"metric01","incrementHits":false,"unit":"hit"}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"Plan","metadata":{"labels":{"api":"api01"},"name":"example-plan"},"spec":{"approvalRequired":false,"costs":{"costMonth":0,"setupFee":0},"default":true,"limitSelector":{"matchLabels":{"plan":"plan01"}},"trialPeriod":0}},
      {"apiVersion":"capabilities.3scale.net/v1alpha1","kind":"Tenant","metadata":{"name":"example-tenant"},"spec":{"email":"admin@example.com","masterCredentialsRef":{"name":"system-seed"},"organizationName":"Example.com","passwordCredentialsRef":{"name":"ecorp-admin-secret"},"systemMasterUrl":"https://master.example.com","tenantSecretRef":{"name":"ecorp-tenant-secret","namespace":"operator-test"},"username":"admin"}}]'
    capabilities: Full Lifecycle
    categories: Integration & Delivery
    certified: "false"
    containerImage: registry.redhat.io/3scale-amp2/3scale-rhel7-operator@sha256:1ba6ec8ed984a011796bbe1eafabb2791957f58ed66ec4a484c024dd96eaf427
    createdAt: "2019-05-30T22:40:00Z"
    description: 3scale Operator to provision 3scale and publish/manage API
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.3.39"
          ],
          "dns": {},
          "default-route": [
              "10.129.2.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      3scale-operator; cpu, memory limit for container 3scale-operator'
    olm.operatorGroup: 3scale-project-h5p24
    olm.operatorNamespace: 3scale-project
    olm.targetNamespaces: 3scale-project
    openshift.io/scc: restricted
    repository: https://github.com/3scale/3scale-operator
    support: Red Hat, Inc.
    tectonic-visibility: ocs
  creationTimestamp: "2020-08-11T18:05:06Z"
  generateName: 3scale-operator-5f86664c4b-
  labels:
    name: threescale-operator
    pod-template-hash: 5f86664c4b
  name: 3scale-operator-5f86664c4b-j9tbl
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: 3scale-operator-5f86664c4b
    uid: e5d4c507-bf02-472a-a26f-5572de5e3ccd
  resourceVersion: "216973987"
  selfLink: /api/v1/namespaces/3scale-project/pods/3scale-operator-5f86664c4b-j9tbl
  uid: b5741a7a-f5b0-4884-83c4-714083d88d2d
spec:
  containers:
  - command:
    - 3scale-operator
    env:
    - name: WATCH_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    - name: POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: OPERATOR_NAME
      value: threescale-operator
    - name: BACKEND_IMAGE
      value: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    - name: APICAST_IMAGE
      value: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    - name: SYSTEM_IMAGE
      value: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    - name: ZYNC_IMAGE
      value: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    - name: SYSTEM_MEMCACHED_IMAGE
      value: registry.redhat.io/3scale-amp2/memcached-rhel7@sha256:2be57d773843135c0677e31d34b0cd24fa9dafc4ef1367521caa2bab7c6122e6
    - name: BACKEND_REDIS_IMAGE
      value: registry.redhat.io/rhscl/redis-32-rhel7@sha256:a9bdf52384a222635efc0284db47d12fbde8c3d0fcb66517ba8eefad1d4e9dc9
    - name: SYSTEM_REDIS_IMAGE
      value: registry.redhat.io/rhscl/redis-32-rhel7@sha256:a9bdf52384a222635efc0284db47d12fbde8c3d0fcb66517ba8eefad1d4e9dc9
    - name: SYSTEM_MYSQL_IMAGE
      value: registry.redhat.io/rhscl/mysql-57-rhel7@sha256:9a781abe7581cc141e14a7e404ec34125b3e89c008b14f4e7b41e094fd3049fe
    - name: SYSTEM_POSTGRESQL_IMAGE
      value: registry.redhat.io/rhscl/postgresql-10-rhel7@sha256:de3ab628b403dc5eed986a7f392c34687bddafee7bdfccfd65cecf137ade3dfd
    - name: ZYNC_POSTGRESQL_IMAGE
      value: registry.redhat.io/rhscl/postgresql-10-rhel7@sha256:de3ab628b403dc5eed986a7f392c34687bddafee7bdfccfd65cecf137ade3dfd
    image: registry.redhat.io/3scale-amp2/3scale-rhel7-operator@sha256:1ba6ec8ed984a011796bbe1eafabb2791957f58ed66ec4a484c024dd96eaf427
    imagePullPolicy: IfNotPresent
    name: 3scale-operator
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: 3scale-operator-token-t24n9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: 3scale-operator-dockercfg-l7552
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: 3scale-operator
  serviceAccountName: 3scale-operator
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: 3scale-operator-token-t24n9
    secret:
      defaultMode: 420
      secretName: 3scale-operator-token-t24n9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:06Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:23Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:23Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:06Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://627e8bd116352a640aeb30f5b8be65cf4f01318e9b01a9aaf67ba96a5140fa8a
    image: registry.redhat.io/3scale-amp2/3scale-rhel7-operator@sha256:1ba6ec8ed984a011796bbe1eafabb2791957f58ed66ec4a484c024dd96eaf427
    imageID: registry.redhat.io/3scale-amp2/3scale-rhel7-operator@sha256:1ba6ec8ed984a011796bbe1eafabb2791957f58ed66ec4a484c024dd96eaf427
    lastState: {}
    name: 3scale-operator
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T18:05:22Z"
  hostIP: 10.92.114.130
  phase: Running
  podIP: 10.129.3.39
  podIPs:
  - ip: 10.129.3.39
  qosClass: Burstable
  startTime: "2020-08-11T18:05:06Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "254094449"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.131.3.47"
          ],
          "dns": {},
          "default-route": [
              "10.131.2.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-11T15:40:44Z"
  generateName: apicast-apicast-production-dev-569c594c88-
  labels:
    deployment: apicast-apicast-production-dev
    pod-template-hash: 569c594c88
  name: apicast-apicast-production-dev-569c594c88-dhnb4
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-apicast-production-dev-569c594c88
    uid: ae278f4e-1107-4628-9701-304ba52529e5
  resourceVersion: "254155215"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-apicast-production-dev-569c594c88-dhnb4
  uid: 77eca960-ba9a-40b2-8adf-c184735d00c1
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicast-dev-production-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: staging
    - name: APICAST_CONFIGURATION_LOADER
      value: lazy
    - name: APICAST_CONFIGURATION_CACHE
      value: "0"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-apicast-production-dev
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-11T15:40:44Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-11T15:41:14Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-11T15:41:14Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-11T15:40:44Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://3ce517e4e62a60e9a6d4311b860c74aa606586931384eed540c74e40f8a16d69
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-apicast-production-dev
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-11T15:40:48Z"
  hostIP: 10.92.114.132
  phase: Running
  podIP: 10.131.3.47
  podIPs:
  - ip: 10.131.3.47
  qosClass: Burstable
  startTime: "2020-09-11T15:40:44Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "253079521"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.130.2.110"
          ],
          "dns": {},
          "default-route": [
              "10.130.2.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-10T15:30:14Z"
  generateName: apicast-apicast-staging-dev-79d87c66c9-
  labels:
    deployment: apicast-apicast-staging-dev
    pod-template-hash: 79d87c66c9
  name: apicast-apicast-staging-dev-79d87c66c9-dpnwt
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-apicast-staging-dev-79d87c66c9
    uid: e1d4b6ca-9f89-49a3-8371-2880ca6bd399
  resourceVersion: "253080208"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-apicast-staging-dev-79d87c66c9-dpnwt
  uid: 807344aa-1963-4faa-bfa0-1a46122b7f0d
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicast-dev-staging-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: staging
    - name: APICAST_CONFIGURATION_LOADER
      value: lazy
    - name: APICAST_CONFIGURATION_CACHE
      value: "0"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-apicast-staging-dev
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-10T15:30:13Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-10T15:31:02Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-10T15:31:02Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-10T15:30:14Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://5cd04ad17edc95ae6a00194d47083c2706ecaaec0b6c45bbc56855056820a868
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-apicast-staging-dev
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-10T15:30:18Z"
  hostIP: 10.92.114.131
  phase: Running
  podIP: 10.130.2.110
  podIPs:
  - ip: 10.130.2.110
  qosClass: Burstable
  startTime: "2020-09-10T15:30:13Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-1
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T21:03:27Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-1
  name: apicast-custom-policies-1-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-1
    uid: 5f16013f-648b-4601-a4b9-5197e9469384
  resourceVersion: "237779442"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-1-build
  uid: 87320615-62ec-435e-9b90-fe5295122d91
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-1","uid":"5f16013f-648b-4601-a4b9-5197e9469384","resourceVersion":"237779001","creationTimestamp":"2020-08-28T21:03:27Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b","fromRef":{"kind":"ImageStreamTag","name":"amp-apicast:2.8"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-1","uid":"5f16013f-648b-4601-a4b9-5197e9469384","resourceVersion":"237779001","creationTimestamp":"2020-08-28T21:03:27Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b","fromRef":{"kind":"ImageStreamTag","name":"amp-apicast:2.8"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-1","uid":"5f16013f-648b-4601-a4b9-5197e9469384","resourceVersion":"237779001","creationTimestamp":"2020-08-28T21:03:27Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b","fromRef":{"kind":"ImageStreamTag","name":"amp-apicast:2.8"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-1-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-1-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-1-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:03:40Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:03:47Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:03:47Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:03:28Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://a6964fce27b9141c45d6345361111e84b1d864919971fae300f944cb8e263cc4
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://a6964fce27b9141c45d6345361111e84b1d864919971fae300f944cb8e263cc4
        exitCode: 1
        finishedAt: "2020-08-28T21:03:47Z"
        message: "by_lua:49>
	[C]: in function 'xpcall'
	init_worker_by_lua:58:
          in function <init_worker_by_lua:56>, context: ngx.timer
2020/08/28 21:03:46
          [warn] 445#445: *2 [lua] _G write guard:12: __newindex(): writing a global
          Lua variable ('result') which may lead to race conditions between concurrent
          requests, so prefer the use of 'local' variables
stack traceback:
	/usr/local/share/lua/5.1/liquid.lua:134:
          in function 'sanitize_replace'
	/usr/local/share/lua/5.1/liquid.lua:2998:
          in function </usr/local/share/lua/5.1/liquid.lua:2996>
	[C]: in function
          'pcall'
	/usr/local/share/lua/5.1/liquid.lua:2423: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2042:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2501: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'interpret'
	/usr/local/share/lua/5.1/liquid.lua:2453: in function 'visit'
	...
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2269: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function 'render'
	/opt/app-root/src/src/apicast/cli/command/start.lua:57:
          in function 'nginx_config'
	/opt/app-root/src/src/apicast/cli/command/start.lua:171:
          in function </opt/app-root/src/src/apicast/cli/command/start.lua:159>
	/opt/app-root/src/src/apicast/cli.lua:47:
          in function </opt/app-root/src/src/apicast/cli.lua:30>
	/tmp/XyoNqLaNIG:60:
          in function 'file_gen'
	init_worker_by_lua:51: in function <init_worker_by_lua:49>
	[C]:
          in function 'xpcall'
	init_worker_by_lua:58: in function <init_worker_by_lua:56>,
          context: ngx.timer
nginx: the configuration file /tmp/lua_PuRphN syntax
          is ok
nginx: [emerg] open() \"/dev/stdout\" failed (13: Permission denied)
nginx:
          configuration file /tmp/lua_PuRphN test failed
subprocess exited with status
          1
subprocess exited with status 1
error: build error: error building at
          STEP \"RUN bin/apicast --test --lazy\": exit status 1
"
        reason: Error
        startedAt: "2020-08-28T21:03:40Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://7323440c419ab73e289451cfe8f1f3c0aa18ed91fd927c8ad8b6554dd97b5cd3
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://7323440c419ab73e289451cfe8f1f3c0aa18ed91fd927c8ad8b6554dd97b5cd3
        exitCode: 0
        finishedAt: "2020-08-28T21:03:39Z"
        reason: Completed
        startedAt: "2020-08-28T21:03:30Z"
  - containerID: cri-o://58706f5f8b54f986bb9a9a80a22f83d74198aa94b79a06b362e3c506d173bdef
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://58706f5f8b54f986bb9a9a80a22f83d74198aa94b79a06b362e3c506d173bdef
        exitCode: 0
        finishedAt: "2020-08-28T21:03:39Z"
        reason: Completed
        startedAt: "2020-08-28T21:03:39Z"
  phase: Failed
  podIP: 10.128.1.108
  podIPs:
  - ip: 10.128.1.108
  qosClass: Burstable
  startTime: "2020-08-28T21:03:27Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-2
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T21:12:54Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-2
  name: apicast-custom-policies-2-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-2
    uid: 33961ef3-08fe-4aa6-a10b-7626f2c02f04
  resourceVersion: "237787351"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-2-build
  uid: 35ba403a-e6aa-46eb-964b-0b338603395c
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-2","uid":"33961ef3-08fe-4aa6-a10b-7626f2c02f04","resourceVersion":"237787000","creationTimestamp":"2020-08-28T21:12:53Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-2","uid":"33961ef3-08fe-4aa6-a10b-7626f2c02f04","resourceVersion":"237787000","creationTimestamp":"2020-08-28T21:12:53Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-2","uid":"33961ef3-08fe-4aa6-a10b-7626f2c02f04","resourceVersion":"237787000","creationTimestamp":"2020-08-28T21:12:53Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-2-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-2-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-2-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:13:07Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:13:14Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:13:14Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:12:54Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://ac63ccba12a1d65003a7d7bf83ec1789e49aa9c9f518ac229ece9c4b22b5af6c
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://ac63ccba12a1d65003a7d7bf83ec1789e49aa9c9f518ac229ece9c4b22b5af6c
        exitCode: 1
        finishedAt: "2020-08-28T21:13:14Z"
        message: "by_lua:49>
	[C]: in function 'xpcall'
	init_worker_by_lua:58:
          in function <init_worker_by_lua:56>, context: ngx.timer
2020/08/28 21:13:13
          [warn] 431#431: *2 [lua] _G write guard:12: __newindex(): writing a global
          Lua variable ('result') which may lead to race conditions between concurrent
          requests, so prefer the use of 'local' variables
stack traceback:
	/usr/local/share/lua/5.1/liquid.lua:134:
          in function 'sanitize_replace'
	/usr/local/share/lua/5.1/liquid.lua:2998:
          in function </usr/local/share/lua/5.1/liquid.lua:2996>
	[C]: in function
          'pcall'
	/usr/local/share/lua/5.1/liquid.lua:2423: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2042:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2501: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'interpret'
	/usr/local/share/lua/5.1/liquid.lua:2453: in function 'visit'
	...
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2269: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function 'render'
	/opt/app-root/src/src/apicast/cli/command/start.lua:57:
          in function 'nginx_config'
	/opt/app-root/src/src/apicast/cli/command/start.lua:171:
          in function </opt/app-root/src/src/apicast/cli/command/start.lua:159>
	/opt/app-root/src/src/apicast/cli.lua:47:
          in function </opt/app-root/src/src/apicast/cli.lua:30>
	/tmp/R3WmL5biZz:60:
          in function 'file_gen'
	init_worker_by_lua:51: in function <init_worker_by_lua:49>
	[C]:
          in function 'xpcall'
	init_worker_by_lua:58: in function <init_worker_by_lua:56>,
          context: ngx.timer
nginx: the configuration file /tmp/lua_UO0oON syntax
          is ok
nginx: [emerg] open() \"/dev/stdout\" failed (13: Permission denied)
nginx:
          configuration file /tmp/lua_UO0oON test failed
subprocess exited with status
          1
subprocess exited with status 1
error: build error: error building at
          STEP \"RUN bin/apicast --test --lazy\": exit status 1
"
        reason: Error
        startedAt: "2020-08-28T21:13:07Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://85cf1a7e8455afaa7d19a3ddeadd8c0bc3ff6994ce0f44d058e3511f8929da91
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://85cf1a7e8455afaa7d19a3ddeadd8c0bc3ff6994ce0f44d058e3511f8929da91
        exitCode: 0
        finishedAt: "2020-08-28T21:13:05Z"
        reason: Completed
        startedAt: "2020-08-28T21:12:56Z"
  - containerID: cri-o://e23b479de5873e2434cd7099d056d7accd4a7804042fd29cd6b43da984af9079
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://e23b479de5873e2434cd7099d056d7accd4a7804042fd29cd6b43da984af9079
        exitCode: 0
        finishedAt: "2020-08-28T21:13:06Z"
        reason: Completed
        startedAt: "2020-08-28T21:13:06Z"
  phase: Failed
  podIP: 10.128.1.110
  podIPs:
  - ip: 10.128.1.110
  qosClass: Burstable
  startTime: "2020-08-28T21:12:53Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-29
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-04T15:39:03Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-29
  name: apicast-custom-policies-29-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-29
    uid: f339d847-85ad-44c9-af31-fbe9c5de771f
  resourceVersion: "246017782"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-29-build
  uid: 1d4f4415-d2cf-420c-af02-12e8579fd144
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-29","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-29","uid":"f339d847-85ad-44c9-af31-fbe9c5de771f","resourceVersion":"246017316","creationTimestamp":"2020-09-04T15:39:02Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"29"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:acbd1d1fd92f74b8db5212446bde3c65b4a6678abe3816ad98585aa68fde083b"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-29","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-29","uid":"f339d847-85ad-44c9-af31-fbe9c5de771f","resourceVersion":"246017316","creationTimestamp":"2020-09-04T15:39:02Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"29"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:acbd1d1fd92f74b8db5212446bde3c65b4a6678abe3816ad98585aa68fde083b"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-29","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-29","uid":"f339d847-85ad-44c9-af31-fbe9c5de771f","resourceVersion":"246017316","creationTimestamp":"2020-09-04T15:39:02Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"29"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:acbd1d1fd92f74b8db5212446bde3c65b4a6678abe3816ad98585aa68fde083b"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-29-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-29-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-29-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:15Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:28Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:28Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:02Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://65d6606897b2e9fac709aa77c4d3bc0935c5b17e8799d368d66b06e14334e188
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://65d6606897b2e9fac709aa77c4d3bc0935c5b17e8799d368d66b06e14334e188
        exitCode: 0
        finishedAt: "2020-09-04T15:39:27Z"
        reason: Completed
        startedAt: "2020-09-04T15:39:15Z"
  hostIP: 10.92.114.131
  initContainerStatuses:
  - containerID: cri-o://8acc7ecdacfaefb5b4cfa0020bda1dd40f9820c54cb9dfccc7a7ebb569ee0de9
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://8acc7ecdacfaefb5b4cfa0020bda1dd40f9820c54cb9dfccc7a7ebb569ee0de9
        exitCode: 0
        finishedAt: "2020-09-04T15:39:14Z"
        reason: Completed
        startedAt: "2020-09-04T15:39:05Z"
  - containerID: cri-o://6050542d46d22882ca0a1a0af96818c2daf7df9734d9c26561fda6599bcb5c39
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://6050542d46d22882ca0a1a0af96818c2daf7df9734d9c26561fda6599bcb5c39
        exitCode: 0
        finishedAt: "2020-09-04T15:39:14Z"
        reason: Completed
        startedAt: "2020-09-04T15:39:14Z"
  phase: Succeeded
  podIP: 10.130.2.54
  podIPs:
  - ip: 10.130.2.54
  qosClass: Burstable
  startTime: "2020-09-04T15:39:03Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-3
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T21:16:12Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-3
  name: apicast-custom-policies-3-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-3
    uid: 38f6d223-b8e3-4197-bf5b-c75a852043de
  resourceVersion: "237790201"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-3-build
  uid: ff28e381-da37-4794-a3d0-d978a70d574d
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-3","uid":"38f6d223-b8e3-4197-bf5b-c75a852043de","resourceVersion":"237789836","creationTimestamp":"2020-08-28T21:16:12Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-3","uid":"38f6d223-b8e3-4197-bf5b-c75a852043de","resourceVersion":"237789836","creationTimestamp":"2020-08-28T21:16:12Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-3","uid":"38f6d223-b8e3-4197-bf5b-c75a852043de","resourceVersion":"237789836","creationTimestamp":"2020-08-28T21:16:12Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ecf148190d40ec100a4f0a2a5909df860b581e2f508a2a30c86b4d177e1acf90"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-3-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-3-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-3-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:16:24Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:16:31Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:16:31Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:16:12Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://ba773f1c61c5f26be8bac13c61e80b8029cc28aa582907d152bdafeba08227dc
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://ba773f1c61c5f26be8bac13c61e80b8029cc28aa582907d152bdafeba08227dc
        exitCode: 1
        finishedAt: "2020-08-28T21:16:31Z"
        message: "[C]: in function 'require'
	/tmp/6PQuUJWA8g:60: in function 'file_gen'
	init_worker_by_lua:50:
          in function <init_worker_by_lua:48>
	[C]: in function 'xpcall'
	init_worker_by_lua:57:
          in function <init_worker_by_lua:55>, context: ngx.timer
2020/08/28 21:16:31
          [warn] 433#433: *2 [lua] _G write guard:12: __newindex(): writing a global
          Lua variable ('result') which may lead to race conditions between concurrent
          requests, so prefer the use of 'local' variables
stack traceback:
	/usr/local/share/lua/5.1/liquid.lua:134:
          in function 'sanitize_replace'
	/usr/local/share/lua/5.1/liquid.lua:2998:
          in function </usr/local/share/lua/5.1/liquid.lua:2996>
	[C]: in function
          'pcall'
	/usr/local/share/lua/5.1/liquid.lua:2423: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2042:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2501: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'interpret'
	/usr/local/share/lua/5.1/liquid.lua:2453: in function 'visit'
	...
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2269: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function 'render'
	/opt/app-root/src/src/apicast/cli/command/start.lua:57:
          in function 'nginx_config'
	/opt/app-root/src/src/apicast/cli/command/start.lua:171:
          in function </opt/app-root/src/src/apicast/cli/command/start.lua:159>
	/opt/app-root/src/src/apicast/cli.lua:47:
          in function </opt/app-root/src/src/apicast/cli.lua:30>
	/tmp/6PQuUJWA8g:60:
          in function 'file_gen'
	init_worker_by_lua:50: in function <init_worker_by_lua:48>
	[C]:
          in function 'xpcall'
	init_worker_by_lua:57: in function <init_worker_by_lua:55>,
          context: ngx.timer
nginx: [emerg] open() \"/dev/stdout\" failed (13: Permission
          denied)
subprocess exited with status 1
subprocess exited with status
          1
error: build error: error building at STEP \"RUN bin/apicast --lazy\":
          exit status 1
"
        reason: Error
        startedAt: "2020-08-28T21:16:25Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://fcfb070b6b3234f3d7c4b70ebf21984ea2761abbd6b8f12c340c52acbcc67014
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://fcfb070b6b3234f3d7c4b70ebf21984ea2761abbd6b8f12c340c52acbcc67014
        exitCode: 0
        finishedAt: "2020-08-28T21:16:23Z"
        reason: Completed
        startedAt: "2020-08-28T21:16:14Z"
  - containerID: cri-o://a7d2b679f48fcf7c336ba1473582fd7d3ba1c6dd6c5e9fc56023da898bd104c2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://a7d2b679f48fcf7c336ba1473582fd7d3ba1c6dd6c5e9fc56023da898bd104c2
        exitCode: 0
        finishedAt: "2020-08-28T21:16:23Z"
        reason: Completed
        startedAt: "2020-08-28T21:16:23Z"
  phase: Failed
  podIP: 10.128.1.111
  podIPs:
  - ip: 10.128.1.111
  qosClass: Burstable
  startTime: "2020-08-28T21:16:12Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-30
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T15:22:20Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-30
  name: apicast-custom-policies-30-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-30
    uid: 114cbc2a-fb6d-4c34-8bfe-46bbb8c6c2e5
  resourceVersion: "249643137"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-30-build
  uid: 6fa09ba9-842a-4292-89ba-dfffcffe0481
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-30","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-30","uid":"114cbc2a-fb6d-4c34-8bfe-46bbb8c6c2e5","resourceVersion":"249642581","creationTimestamp":"2020-09-07T15:22:20Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"30"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ceda4c6612ead9700cb84be6dbaeaef937aec89095c7e6e7cd77e20d376ff528"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-30","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-30","uid":"114cbc2a-fb6d-4c34-8bfe-46bbb8c6c2e5","resourceVersion":"249642581","creationTimestamp":"2020-09-07T15:22:20Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"30"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ceda4c6612ead9700cb84be6dbaeaef937aec89095c7e6e7cd77e20d376ff528"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-30","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-30","uid":"114cbc2a-fb6d-4c34-8bfe-46bbb8c6c2e5","resourceVersion":"249642581","creationTimestamp":"2020-09-07T15:22:20Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"30"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:ceda4c6612ead9700cb84be6dbaeaef937aec89095c7e6e7cd77e20d376ff528"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-30-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-30-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-30-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:22:32Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:22:44Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:22:44Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:22:20Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://9dd252a0554d758cb806a0d7a461d990b01300f3f4bc0dc09d2684983ff45da3
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://9dd252a0554d758cb806a0d7a461d990b01300f3f4bc0dc09d2684983ff45da3
        exitCode: 0
        finishedAt: "2020-09-07T15:22:43Z"
        reason: Completed
        startedAt: "2020-09-07T15:22:32Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://d2b6a649b4d8ffd9800616075234ed34445fb46e6f9b5ccbd3b4f3f49544705b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://d2b6a649b4d8ffd9800616075234ed34445fb46e6f9b5ccbd3b4f3f49544705b
        exitCode: 0
        finishedAt: "2020-09-07T15:22:30Z"
        reason: Completed
        startedAt: "2020-09-07T15:22:21Z"
  - containerID: cri-o://459db5b70ac48bcfdc52d2cf8f5b607ed0b288603781176e6eb9e4eb79866125
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://459db5b70ac48bcfdc52d2cf8f5b607ed0b288603781176e6eb9e4eb79866125
        exitCode: 0
        finishedAt: "2020-09-07T15:22:31Z"
        reason: Completed
        startedAt: "2020-09-07T15:22:31Z"
  phase: Succeeded
  podIP: 10.128.0.240
  podIPs:
  - ip: 10.128.0.240
  qosClass: Burstable
  startTime: "2020-09-07T15:22:19Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-31
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T15:29:43Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-31
  name: apicast-custom-policies-31-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-31
    uid: 2c87b84e-fed9-446f-9508-92407021ed9c
  resourceVersion: "249649746"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-31-build
  uid: 73f2ed54-81b5-4082-b712-6956df46839b
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-31","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-31","uid":"2c87b84e-fed9-446f-9508-92407021ed9c","resourceVersion":"249649103","creationTimestamp":"2020-09-07T15:29:43Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"31"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:0d8f500a2672e39911c3fc6a33b2b326dc541dc7ad8170d67fa995e784b94d03"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-31","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-31","uid":"2c87b84e-fed9-446f-9508-92407021ed9c","resourceVersion":"249649103","creationTimestamp":"2020-09-07T15:29:43Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"31"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:0d8f500a2672e39911c3fc6a33b2b326dc541dc7ad8170d67fa995e784b94d03"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-31","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-31","uid":"2c87b84e-fed9-446f-9508-92407021ed9c","resourceVersion":"249649103","creationTimestamp":"2020-09-07T15:29:43Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"31"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:0d8f500a2672e39911c3fc6a33b2b326dc541dc7ad8170d67fa995e784b94d03"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-02.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-31-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-31-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-31-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:29:55Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:07Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:07Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:29:43Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://4942e46ef827f201d5a2e7b0fd46cb1d586414c66e16a878d2123494b7251dfd
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://4942e46ef827f201d5a2e7b0fd46cb1d586414c66e16a878d2123494b7251dfd
        exitCode: 0
        finishedAt: "2020-09-07T15:30:07Z"
        reason: Completed
        startedAt: "2020-09-07T15:29:56Z"
  hostIP: 10.92.114.132
  initContainerStatuses:
  - containerID: cri-o://d907a10e73adfa6dc1a8f6e9e1b9d20d8b5b625a00e9cbb9e4e70e2e5b5d9438
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://d907a10e73adfa6dc1a8f6e9e1b9d20d8b5b625a00e9cbb9e4e70e2e5b5d9438
        exitCode: 0
        finishedAt: "2020-09-07T15:29:53Z"
        reason: Completed
        startedAt: "2020-09-07T15:29:45Z"
  - containerID: cri-o://b19ed37e5d238766d0e60a91e1a25966bbf1f8375d2ee4480cced14e7893e50f
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://b19ed37e5d238766d0e60a91e1a25966bbf1f8375d2ee4480cced14e7893e50f
        exitCode: 0
        finishedAt: "2020-09-07T15:29:54Z"
        reason: Completed
        startedAt: "2020-09-07T15:29:54Z"
  phase: Succeeded
  podIP: 10.131.3.0
  podIPs:
  - ip: 10.131.3.0
  qosClass: Burstable
  startTime: "2020-09-07T15:29:43Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-32
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:17:35Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-32
  name: apicast-custom-policies-32-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-32
    uid: 4e0c84d7-e7c5-4e1e-aa93-c2f18418f6f2
  resourceVersion: "252208507"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-32-build
  uid: 8a7d7fec-f43d-4573-8bf2-dde2969d7162
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-32","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-32","uid":"4e0c84d7-e7c5-4e1e-aa93-c2f18418f6f2","resourceVersion":"252207917","creationTimestamp":"2020-09-09T20:17:35Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"32"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:0d8f500a2672e39911c3fc6a33b2b326dc541dc7ad8170d67fa995e784b94d03"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-32","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-32","uid":"4e0c84d7-e7c5-4e1e-aa93-c2f18418f6f2","resourceVersion":"252207917","creationTimestamp":"2020-09-09T20:17:35Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"32"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:0d8f500a2672e39911c3fc6a33b2b326dc541dc7ad8170d67fa995e784b94d03"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-32","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-32","uid":"4e0c84d7-e7c5-4e1e-aa93-c2f18418f6f2","resourceVersion":"252207917","creationTimestamp":"2020-09-09T20:17:35Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"32"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:0d8f500a2672e39911c3fc6a33b2b326dc541dc7ad8170d67fa995e784b94d03"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-32-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-32-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-32-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:17:49Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:18:08Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:18:08Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:17:35Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://2253ca77dbc463e700f4a03326bb8cdfb7dab141563f3a80702382167ec6d9d5
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://2253ca77dbc463e700f4a03326bb8cdfb7dab141563f3a80702382167ec6d9d5
        exitCode: 1
        finishedAt: "2020-09-09T20:18:07Z"
        message: |
          Caching blobs under "/var/cache/blobs".

          Pulling image registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: failed to pull image: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-09-09T20:17:49Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://9b80fc1c12a3784cecbd183cb89da69b3a521670f9dc873ae1b5f56db2a77e8d
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://9b80fc1c12a3784cecbd183cb89da69b3a521670f9dc873ae1b5f56db2a77e8d
        exitCode: 0
        finishedAt: "2020-09-09T20:17:47Z"
        reason: Completed
        startedAt: "2020-09-09T20:17:38Z"
  - containerID: cri-o://cf2406d0acbd3db7e1a32bd9442d874addfae65c42d98ac2e7634fd09d666dc2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://cf2406d0acbd3db7e1a32bd9442d874addfae65c42d98ac2e7634fd09d666dc2
        exitCode: 0
        finishedAt: "2020-09-09T20:17:48Z"
        reason: Completed
        startedAt: "2020-09-09T20:17:48Z"
  phase: Failed
  podIP: 10.128.4.94
  podIPs:
  - ip: 10.128.4.94
  qosClass: Burstable
  startTime: "2020-09-09T20:17:35Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-33
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:33:32Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-33
  name: apicast-custom-policies-33-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-33
    uid: 9ae2332f-35fb-4c4c-8b76-dc06ff4cb8c2
  resourceVersion: "252220904"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-33-build
  uid: 62f40829-204b-4395-b37e-28fb271db56f
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-33","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-33","uid":"9ae2332f-35fb-4c4c-8b76-dc06ff4cb8c2","resourceVersion":"252220388","creationTimestamp":"2020-09-09T20:33:32Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"33"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:222f7a337af548c5ac95924b065dbc29194f37e300f98eaec21622119280b8f1"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  - name: threescale-registry-auth
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-33","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-33","uid":"9ae2332f-35fb-4c4c-8b76-dc06ff4cb8c2","resourceVersion":"252220388","creationTimestamp":"2020-09-09T20:33:32Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"33"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:222f7a337af548c5ac95924b065dbc29194f37e300f98eaec21622119280b8f1"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-33","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-33","uid":"9ae2332f-35fb-4c4c-8b76-dc06ff4cb8c2","resourceVersion":"252220388","creationTimestamp":"2020-09-09T20:33:32Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"33"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:222f7a337af548c5ac95924b065dbc29194f37e300f98eaec21622119280b8f1"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: threescale-registry-auth-pull
    secret:
      defaultMode: 384
      secretName: threescale-registry-auth
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-33-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-33-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-33-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:33:45Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:34:00Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:34:00Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:33:32Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://5333e68cca6aacde2908dadbb90019a996a03fd6023d67a1e3d7d6454075ab16
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://5333e68cca6aacde2908dadbb90019a996a03fd6023d67a1e3d7d6454075ab16
        exitCode: 0
        finishedAt: "2020-09-09T20:33:59Z"
        reason: Completed
        startedAt: "2020-09-09T20:33:45Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://adeadc6c1a6f36291be2d89c2e4dffc6ae586308568f80b72bf997b882581bd3
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://adeadc6c1a6f36291be2d89c2e4dffc6ae586308568f80b72bf997b882581bd3
        exitCode: 0
        finishedAt: "2020-09-09T20:33:43Z"
        reason: Completed
        startedAt: "2020-09-09T20:33:35Z"
  - containerID: cri-o://0010b9f9b71cd4da57049c038458aa46ede2de0d686a9e3625ab799497151a43
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://0010b9f9b71cd4da57049c038458aa46ede2de0d686a9e3625ab799497151a43
        exitCode: 0
        finishedAt: "2020-09-09T20:33:44Z"
        reason: Completed
        startedAt: "2020-09-09T20:33:44Z"
  phase: Succeeded
  podIP: 10.128.4.97
  podIPs:
  - ip: 10.128.4.97
  qosClass: Burstable
  startTime: "2020-09-09T20:33:32Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-34
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:38:03Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-34
  name: apicast-custom-policies-34-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-34
    uid: 20d7bd49-9d7a-482d-bd5b-ebe81ace79ac
  resourceVersion: "252224483"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-34-build
  uid: c4603726-e32b-4baa-b3b5-c337a1566e4a
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-34","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-34","uid":"20d7bd49-9d7a-482d-bd5b-ebe81ace79ac","resourceVersion":"252224071","creationTimestamp":"2020-09-09T20:38:03Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"34"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:11254f3ab104ae7316356bcd0dc407cd4fc88bd27c5a0adfdf3459a692ff8833"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  - name: threescale-registry-auth
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-34","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-34","uid":"20d7bd49-9d7a-482d-bd5b-ebe81ace79ac","resourceVersion":"252224071","creationTimestamp":"2020-09-09T20:38:03Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"34"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:11254f3ab104ae7316356bcd0dc407cd4fc88bd27c5a0adfdf3459a692ff8833"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-34","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-34","uid":"20d7bd49-9d7a-482d-bd5b-ebe81ace79ac","resourceVersion":"252224071","creationTimestamp":"2020-09-09T20:38:03Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"34"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:11254f3ab104ae7316356bcd0dc407cd4fc88bd27c5a0adfdf3459a692ff8833"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: threescale-registry-auth-pull
    secret:
      defaultMode: 384
      secretName: threescale-registry-auth
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-34-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-34-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-34-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:16Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:29Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:29Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:03Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://27f22934c371aff66b5303c5dfbc71d9ec847da8749227d0c8cfc1cb1c03c721
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://27f22934c371aff66b5303c5dfbc71d9ec847da8749227d0c8cfc1cb1c03c721
        exitCode: 0
        finishedAt: "2020-09-09T20:38:28Z"
        reason: Completed
        startedAt: "2020-09-09T20:38:16Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://c3c4be8d83eed7fabf88469176c505e4e1dfe7f6a63d96774ebcbb0c541bb032
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://c3c4be8d83eed7fabf88469176c505e4e1dfe7f6a63d96774ebcbb0c541bb032
        exitCode: 0
        finishedAt: "2020-09-09T20:38:15Z"
        reason: Completed
        startedAt: "2020-09-09T20:38:07Z"
  - containerID: cri-o://2e323e37c4ed047aa79a4eff69acb2572674fe460771e0e6fdd6cbd73fae2721
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://2e323e37c4ed047aa79a4eff69acb2572674fe460771e0e6fdd6cbd73fae2721
        exitCode: 0
        finishedAt: "2020-09-09T20:38:15Z"
        reason: Completed
        startedAt: "2020-09-09T20:38:15Z"
  phase: Succeeded
  podIP: 10.128.4.101
  podIPs:
  - ip: 10.128.4.101
  qosClass: Burstable
  startTime: "2020-09-09T20:38:04Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      docker-build; cpu, memory limit for container docker-build; cpu, memory request
      for init container extract-image-content; cpu, memory limit for init container
      extract-image-content; cpu, memory request for init container manage-dockerfile;
      cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: apicast-custom-policies-5
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-31T14:02:12Z"
  labels:
    openshift.io/build.name: apicast-custom-policies-5
  name: apicast-custom-policies-5-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-custom-policies-5
    uid: 2f518d38-2632-4827-b80e-b34eb5dcb179
  resourceVersion: "241067815"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-custom-policies-5-build
  uid: b912a782-b342-47ad-bebd-68bf2e722368
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-docker-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-5","uid":"2f518d38-2632-4827-b80e-b34eb5dcb179","resourceVersion":"241067405","creationTimestamp":"2020-08-31T14:02:13Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:8f9c8ee0f7af54665fa091d6798ee6b9411ccb157e06205e2ee6ca7ac14cd8c6"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: docker-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-extract-image-content
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-5","uid":"2f518d38-2632-4827-b80e-b34eb5dcb179","resourceVersion":"241067405","creationTimestamp":"2020-08-31T14:02:13Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:8f9c8ee0f7af54665fa091d6798ee6b9411ccb157e06205e2ee6ca7ac14cd8c6"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: PULL_SOURCE_DOCKERCFG_PATH_0
      value: /var/run/secrets/openshift.io/source-image/0
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: extract-image-content
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/source-image/0
      name: builder-dockercfg-jtvsh-source-image0
      readOnly: true
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-custom-policies-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-custom-policies-5","uid":"2f518d38-2632-4827-b80e-b34eb5dcb179","resourceVersion":"241067405","creationTimestamp":"2020-08-31T14:02:13Z","labels":{"app":"apicast","buildconfig":"apicast-custom-policies","openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-custom-policies","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-custom-policies","uid":"fdc1fa17-53ee-4e44-a451-16c6560161d1","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Dockerfile","dockerfile":"FROM scratch
COPY . src
","images":[{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy@sha256:8f9c8ee0f7af54665fa091d6798ee6b9411ccb157e06205e2ee6ca7ac14cd8c6"},"as":null,"paths":[{"sourcePath":"/opt/app-root/policies/openidc","destinationDir":"policies"}],"pullSecret":{"name":"builder-dockercfg-jtvsh"}}]},"strategy":{"type":"Docker","dockerStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{"command":["bin/apicast"],"args":["--test","--lazy"]},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/amp-apicast:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-custom-policies"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-source-image0
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - emptyDir: {}
    name: container-storage-root
  - configMap:
      defaultMode: 420
      name: apicast-custom-policies-5-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-custom-policies-5-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-custom-policies-5-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-31T14:02:25Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-31T14:02:32Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-31T14:02:32Z"
    message: 'containers with unready status: [docker-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-31T14:02:12Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://242aa479a88617bba220ad0fdf12fc17dea5fedd234939fef2f7a6479385f565
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: docker-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://242aa479a88617bba220ad0fdf12fc17dea5fedd234939fef2f7a6479385f565
        exitCode: 1
        finishedAt: "2020-08-31T14:02:31Z"
        message: "by_lua:49>
	[C]: in function 'xpcall'
	init_worker_by_lua:58:
          in function <init_worker_by_lua:56>, context: ngx.timer
2020/08/31 14:02:31
          [warn] 413#413: *2 [lua] _G write guard:12: __newindex(): writing a global
          Lua variable ('result') which may lead to race conditions between concurrent
          requests, so prefer the use of 'local' variables
stack traceback:
	/usr/local/share/lua/5.1/liquid.lua:134:
          in function 'sanitize_replace'
	/usr/local/share/lua/5.1/liquid.lua:2998:
          in function </usr/local/share/lua/5.1/liquid.lua:2996>
	[C]: in function
          'pcall'
	/usr/local/share/lua/5.1/liquid.lua:2423: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2042:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2501: in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function
          'interpret'
	/usr/local/share/lua/5.1/liquid.lua:2453: in function 'visit'
	...
	/usr/local/share/lua/5.1/liquid.lua:2018:
          in function 'visit'
	/usr/local/share/lua/5.1/liquid.lua:2269: in function
          'visit'
	/usr/local/share/lua/5.1/liquid.lua:2018: in function 'render'
	/opt/app-root/src/src/apicast/cli/command/start.lua:57:
          in function 'nginx_config'
	/opt/app-root/src/src/apicast/cli/command/start.lua:171:
          in function </opt/app-root/src/src/apicast/cli/command/start.lua:159>
	/opt/app-root/src/src/apicast/cli.lua:47:
          in function </opt/app-root/src/src/apicast/cli.lua:30>
	/tmp/ZHyRzdzD78:60:
          in function 'file_gen'
	init_worker_by_lua:51: in function <init_worker_by_lua:49>
	[C]:
          in function 'xpcall'
	init_worker_by_lua:58: in function <init_worker_by_lua:56>,
          context: ngx.timer
nginx: the configuration file /tmp/lua_uKKQx0 syntax
          is ok
nginx: [emerg] open() \"/dev/stdout\" failed (13: Permission denied)
nginx:
          configuration file /tmp/lua_uKKQx0 test failed
subprocess exited with status
          1
subprocess exited with status 1
error: build error: error building at
          STEP \"RUN bin/apicast --test --lazy\": exit status 1
"
        reason: Error
        startedAt: "2020-08-31T14:02:25Z"
  hostIP: 10.92.114.131
  initContainerStatuses:
  - containerID: cri-o://2b7c1da44e339a3b2e37d0921c1823a63366bfba203f7b52c08a55d19b1ae0c2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: extract-image-content
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://2b7c1da44e339a3b2e37d0921c1823a63366bfba203f7b52c08a55d19b1ae0c2
        exitCode: 0
        finishedAt: "2020-08-31T14:02:23Z"
        reason: Completed
        startedAt: "2020-08-31T14:02:14Z"
  - containerID: cri-o://194c9f66e23fe0c31a3adf3ec6dc9f02f3186c9075deb2ca75d49208b86f0bd6
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://194c9f66e23fe0c31a3adf3ec6dc9f02f3186c9075deb2ca75d49208b86f0bd6
        exitCode: 0
        finishedAt: "2020-08-31T14:02:24Z"
        reason: Completed
        startedAt: "2020-08-31T14:02:24Z"
  phase: Failed
  podIP: 10.130.3.227
  podIPs:
  - ip: 10.130.3.227
  qosClass: Burstable
  startTime: "2020-08-31T14:02:12Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "257388450"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.130.2.147"
          ],
          "dns": {},
          "default-route": [
              "10.130.2.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-14T15:18:20Z"
  generateName: apicast-dev-production-7fcfff6745-
  labels:
    deployment: apicast-dev-production
    pod-template-hash: 7fcfff6745
  name: apicast-dev-production-7fcfff6745-86k97
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-dev-production-7fcfff6745
    uid: 177f4f84-5f04-4475-aee5-47df392516cf
  resourceVersion: "257388974"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-dev-production-7fcfff6745-86k97
  uid: 5bb09fd5-757d-42a5-9655-711376f4202a
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicastdev-production-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: staging
    - name: APICAST_CONFIGURATION_LOADER
      value: lazy
    - name: APICAST_CONFIGURATION_CACHE
      value: "300"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-dev-production
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:18:19Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:18:51Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:18:51Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:18:19Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://c16bda1bf14a201615cc24dd9ea78f29eeb113d11f914e3d0dc62ed8cbdfe258
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-dev-production
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-14T15:18:24Z"
  hostIP: 10.92.114.131
  phase: Running
  podIP: 10.130.2.147
  podIPs:
  - ip: 10.130.2.147
  qosClass: Burstable
  startTime: "2020-09-14T15:18:19Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "257374567"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.4.190"
          ],
          "dns": {},
          "default-route": [
              "10.128.4.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-14T14:59:47Z"
  generateName: apicast-dev-staging-5bc85bbcb6-
  labels:
    deployment: apicast-dev-staging
    pod-template-hash: 5bc85bbcb6
  name: apicast-dev-staging-5bc85bbcb6-kg299
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-dev-staging-5bc85bbcb6
    uid: 35f42d52-bd45-4438-aad6-854f6bf7612e
  resourceVersion: "257374820"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-dev-staging-5bc85bbcb6-kg299
  uid: 90940ab0-cdb3-4917-83cb-11a8c382d0dd
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicastdev-staging-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: staging
    - name: APICAST_CONFIGURATION_LOADER
      value: lazy
    - name: APICAST_CONFIGURATION_CACHE
      value: "0"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-dev-staging
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T14:59:47Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:00:08Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:00:08Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T14:59:46Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://75889c33a2cfa0997ad8ceb5c4ca244c6c8d223574b52b30378f8fd008116642
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-dev-staging
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-14T14:59:51Z"
  hostIP: 10.92.114.133
  phase: Running
  podIP: 10.128.4.190
  podIPs:
  - ip: 10.128.4.190
  qosClass: Burstable
  startTime: "2020-09-14T14:59:47Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-example-policy-1
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T20:39:01Z"
  labels:
    openshift.io/build.name: apicast-example-policy-1
  name: apicast-example-policy-1-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-example-policy-1
    uid: 9273423e-3d20-42cb-81a5-21302c0d5d3e
  resourceVersion: "237758739"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-example-policy-1-build
  uid: 2c497bb3-84fe-4430-8c37-27efe051e3d9
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-1","uid":"9273423e-3d20-42cb-81a5-21302c0d5d3e","resourceVersion":"237758077","creationTimestamp":"2020-08-28T20:39:01Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-1","uid":"9273423e-3d20-42cb-81a5-21302c0d5d3e","resourceVersion":"237758077","creationTimestamp":"2020-08-28T20:39:01Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-1","uid":"9273423e-3d20-42cb-81a5-21302c0d5d3e","resourceVersion":"237758077","creationTimestamp":"2020-08-28T20:39:01Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-example-policy-1-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-example-policy-1-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-example-policy-1-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:39:22Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:39:42Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:39:42Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:39:01Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://7ced71525481e15825bcd629404475f701c8ace9dce68f3e9bc7f94bd71c3186
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://7ced71525481e15825bcd629404475f701c8ace9dce68f3e9bc7f94bd71c3186
        exitCode: 1
        finishedAt: "2020-08-28T20:39:41Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-08-28T20:39:22Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://6c4470641eea00ed266e64749d46e5606ab421b783005d26f84bc74ade8c21ad
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://6c4470641eea00ed266e64749d46e5606ab421b783005d26f84bc74ade8c21ad
        exitCode: 0
        finishedAt: "2020-08-28T20:39:20Z"
        reason: Completed
        startedAt: "2020-08-28T20:39:13Z"
  - containerID: cri-o://7ab00d5c2ab63cd1c47d128b418917e662ac339d461b810d6d699047452a566a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://7ab00d5c2ab63cd1c47d128b418917e662ac339d461b810d6d699047452a566a
        exitCode: 0
        finishedAt: "2020-08-28T20:39:21Z"
        reason: Completed
        startedAt: "2020-08-28T20:39:21Z"
  phase: Failed
  podIP: 10.128.1.98
  podIPs:
  - ip: 10.128.1.98
  qosClass: Burstable
  startTime: "2020-08-28T20:39:01Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-example-policy-2
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T20:40:18Z"
  labels:
    openshift.io/build.name: apicast-example-policy-2
  name: apicast-example-policy-2-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-example-policy-2
    uid: 4268d288-0996-490f-bf9a-50168dd92b5e
  resourceVersion: "237759826"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-example-policy-2-build
  uid: 4269f548-5c44-4142-8cb2-704e0756a4d3
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-2","uid":"4268d288-0996-490f-bf9a-50168dd92b5e","resourceVersion":"237759189","creationTimestamp":"2020-08-28T20:40:17Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-2","uid":"4268d288-0996-490f-bf9a-50168dd92b5e","resourceVersion":"237759189","creationTimestamp":"2020-08-28T20:40:17Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-2","uid":"4268d288-0996-490f-bf9a-50168dd92b5e","resourceVersion":"237759189","creationTimestamp":"2020-08-28T20:40:17Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-example-policy-2-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-example-policy-2-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-example-policy-2-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:40:29Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:40:48Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:40:48Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:40:18Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://e5dcb5c3682b3022da807fc0a0cddd821655c91ccbc401be3307595ef3fddbd1
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://e5dcb5c3682b3022da807fc0a0cddd821655c91ccbc401be3307595ef3fddbd1
        exitCode: 1
        finishedAt: "2020-08-28T20:40:47Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-08-28T20:40:29Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://8d9806c309933242687a9cf0d91f525e34d07805300147ad7f99431a78c1e8f2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://8d9806c309933242687a9cf0d91f525e34d07805300147ad7f99431a78c1e8f2
        exitCode: 0
        finishedAt: "2020-08-28T20:40:27Z"
        reason: Completed
        startedAt: "2020-08-28T20:40:20Z"
  - containerID: cri-o://015f618e53951135dabcd138412f9b7dbe0f03089ab146c6afcb9c5a1ff0cbf0
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://015f618e53951135dabcd138412f9b7dbe0f03089ab146c6afcb9c5a1ff0cbf0
        exitCode: 0
        finishedAt: "2020-08-28T20:40:28Z"
        reason: Completed
        startedAt: "2020-08-28T20:40:28Z"
  phase: Failed
  podIP: 10.128.1.100
  podIPs:
  - ip: 10.128.1.100
  qosClass: Burstable
  startTime: "2020-08-28T20:40:17Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-example-policy-3
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T20:53:13Z"
  labels:
    openshift.io/build.name: apicast-example-policy-3
  name: apicast-example-policy-3-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-example-policy-3
    uid: 27907d56-9e19-405a-b418-c66056f285a7
  resourceVersion: "237770636"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-example-policy-3-build
  uid: 0db388af-1f0d-4a8f-b956-e17f0856fa61
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-3","uid":"27907d56-9e19-405a-b418-c66056f285a7","resourceVersion":"237770125","creationTimestamp":"2020-08-28T20:53:13Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-3","uid":"27907d56-9e19-405a-b418-c66056f285a7","resourceVersion":"237770125","creationTimestamp":"2020-08-28T20:53:13Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-3","uid":"27907d56-9e19-405a-b418-c66056f285a7","resourceVersion":"237770125","creationTimestamp":"2020-08-28T20:53:13Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-example-policy-3-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-example-policy-3-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-example-policy-3-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:53:25Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:53:44Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:53:44Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:53:13Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://2cee666561bd3a72e0e76b283cf748d6d9b5ea4739975907c5c7347cec1e71f6
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://2cee666561bd3a72e0e76b283cf748d6d9b5ea4739975907c5c7347cec1e71f6
        exitCode: 1
        finishedAt: "2020-08-28T20:53:43Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-08-28T20:53:25Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://0436ec59a09ac8e7fe204fe119d905701b7e7b0ba45c87f45ddf7636f293c231
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://0436ec59a09ac8e7fe204fe119d905701b7e7b0ba45c87f45ddf7636f293c231
        exitCode: 0
        finishedAt: "2020-08-28T20:53:23Z"
        reason: Completed
        startedAt: "2020-08-28T20:53:16Z"
  - containerID: cri-o://8e39adb1ad85f45e1c592b33e3ae0830bad95210a330af04828263b4133bc09d
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://8e39adb1ad85f45e1c592b33e3ae0830bad95210a330af04828263b4133bc09d
        exitCode: 0
        finishedAt: "2020-08-28T20:53:24Z"
        reason: Completed
        startedAt: "2020-08-28T20:53:24Z"
  phase: Failed
  podIP: 10.128.1.102
  podIPs:
  - ip: 10.128.1.102
  qosClass: Burstable
  startTime: "2020-08-28T20:53:12Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-example-policy-4
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T20:54:16Z"
  labels:
    openshift.io/build.name: apicast-example-policy-4
  name: apicast-example-policy-4-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-example-policy-4
    uid: eb984255-50fb-4b04-a8ef-defa1e4e4531
  resourceVersion: "237771684"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-example-policy-4-build
  uid: 3b4b3dbe-b632-4fa1-b516-069a9242ddaa
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-4","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-4","uid":"eb984255-50fb-4b04-a8ef-defa1e4e4531","resourceVersion":"237771053","creationTimestamp":"2020-08-28T20:54:15Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"4"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-4","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-4","uid":"eb984255-50fb-4b04-a8ef-defa1e4e4531","resourceVersion":"237771053","creationTimestamp":"2020-08-28T20:54:15Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"4"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-4","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-4","uid":"eb984255-50fb-4b04-a8ef-defa1e4e4531","resourceVersion":"237771053","creationTimestamp":"2020-08-28T20:54:15Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"4"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-example-policy-4-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-example-policy-4-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-example-policy-4-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:54:27Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:54:46Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:54:46Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:54:16Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://bbc80193a62126db5746f4dbddd1fed199e0992fe2014d1e38f10c217d19acdc
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://bbc80193a62126db5746f4dbddd1fed199e0992fe2014d1e38f10c217d19acdc
        exitCode: 1
        finishedAt: "2020-08-28T20:54:45Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-08-28T20:54:27Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://2db85db534d44fa7a1c7bcde6e6a614538c7ffceebb814d1d9c4a80a15482427
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://2db85db534d44fa7a1c7bcde6e6a614538c7ffceebb814d1d9c4a80a15482427
        exitCode: 0
        finishedAt: "2020-08-28T20:54:26Z"
        reason: Completed
        startedAt: "2020-08-28T20:54:18Z"
  - containerID: cri-o://b2cf59b2fbdb5a22d4bd94f5393fdf41e79f5166c04d685728fe3b99a8620717
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://b2cf59b2fbdb5a22d4bd94f5393fdf41e79f5166c04d685728fe3b99a8620717
        exitCode: 0
        finishedAt: "2020-08-28T20:54:26Z"
        reason: Completed
        startedAt: "2020-08-28T20:54:26Z"
  phase: Failed
  podIP: 10.128.1.103
  podIPs:
  - ip: 10.128.1.103
  qosClass: Burstable
  startTime: "2020-08-28T20:54:15Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-example-policy-5
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T20:58:08Z"
  labels:
    openshift.io/build.name: apicast-example-policy-5
  name: apicast-example-policy-5-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-example-policy-5
    uid: 7cebbe69-0abb-4ffe-92a0-a3b85cdbf21f
  resourceVersion: "237774946"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-example-policy-5-build
  uid: 40686ab3-2210-4ba7-ae36-3ed6f23a67fc
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-5","uid":"7cebbe69-0abb-4ffe-92a0-a3b85cdbf21f","resourceVersion":"237774364","creationTimestamp":"2020-08-28T20:58:08Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  - name: threescale-registry-auth
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-5","uid":"7cebbe69-0abb-4ffe-92a0-a3b85cdbf21f","resourceVersion":"237774364","creationTimestamp":"2020-08-28T20:58:08Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-5","uid":"7cebbe69-0abb-4ffe-92a0-a3b85cdbf21f","resourceVersion":"237774364","creationTimestamp":"2020-08-28T20:58:08Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: threescale-registry-auth-pull
    secret:
      defaultMode: 384
      secretName: threescale-registry-auth
  - configMap:
      defaultMode: 420
      name: apicast-example-policy-5-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-example-policy-5-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-example-policy-5-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:58:15Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:58:39Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:58:39Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T20:58:08Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://5726d305c92d12fd4f24658c06fdf33e636c1e731bf015306162fae51bde460b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://5726d305c92d12fd4f24658c06fdf33e636c1e731bf015306162fae51bde460b
        exitCode: 0
        finishedAt: "2020-08-28T20:58:38Z"
        reason: Completed
        startedAt: "2020-08-28T20:58:15Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://d7fc02cda388de53d121c4b1956ccf3cb15ebc5050efa7fda9f840c3744d9b55
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://d7fc02cda388de53d121c4b1956ccf3cb15ebc5050efa7fda9f840c3744d9b55
        exitCode: 0
        finishedAt: "2020-08-28T20:58:14Z"
        reason: Completed
        startedAt: "2020-08-28T20:58:11Z"
  - containerID: cri-o://dac3144f1df7583cf4a67961b6a556af3b1e17da4930821b902171b4eb9df055
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://dac3144f1df7583cf4a67961b6a556af3b1e17da4930821b902171b4eb9df055
        exitCode: 0
        finishedAt: "2020-08-28T20:58:14Z"
        reason: Completed
        startedAt: "2020-08-28T20:58:14Z"
  phase: Succeeded
  podIP: 10.128.1.104
  podIPs:
  - ip: 10.128.1.104
  qosClass: Burstable
  startTime: "2020-08-28T20:58:08Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-example-policy-6
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T21:02:47Z"
  labels:
    openshift.io/build.name: apicast-example-policy-6
  name: apicast-example-policy-6-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-example-policy-6
    uid: 12e55173-d15a-4daa-88b2-c7161cca5546
  resourceVersion: "237778979"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-example-policy-6-build
  uid: f0cde264-553c-4374-b286-ce30722ce7a5
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-6","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-6","uid":"12e55173-d15a-4daa-88b2-c7161cca5546","resourceVersion":"237778362","creationTimestamp":"2020-08-28T21:02:47Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"6"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-6","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-6","uid":"12e55173-d15a-4daa-88b2-c7161cca5546","resourceVersion":"237778362","creationTimestamp":"2020-08-28T21:02:47Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"6"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-example-policy-6","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-example-policy-6","uid":"12e55173-d15a-4daa-88b2-c7161cca5546","resourceVersion":"237778362","creationTimestamp":"2020-08-28T21:02:47Z","labels":{"app":"apicast","buildconfig":"apicast-example-policy","openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-example-policy","openshift.io/build.number":"6"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-example-policy","uid":"0dd71cbf-2d71-4dfe-ba4e-4339ba10038f","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/3scale/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:example","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-example-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/3scale/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-example-policy-6-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-example-policy-6-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-example-policy-6-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:02:59Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:03:22Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:03:22Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T21:02:47Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://a9fd2dc8c58bb793d79cb7e223ef1031a316b16a56dc9bf9597c91a33c5c7e54
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://a9fd2dc8c58bb793d79cb7e223ef1031a316b16a56dc9bf9597c91a33c5c7e54
        exitCode: 0
        finishedAt: "2020-08-28T21:03:21Z"
        reason: Completed
        startedAt: "2020-08-28T21:02:59Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://288cb01236a666b5c50b099e3cb4a8012389aad04d5385b197e7856afdc28ca9
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://288cb01236a666b5c50b099e3cb4a8012389aad04d5385b197e7856afdc28ca9
        exitCode: 0
        finishedAt: "2020-08-28T21:02:57Z"
        reason: Completed
        startedAt: "2020-08-28T21:02:49Z"
  - containerID: cri-o://1c779dbc302bd31414284fc2cc4909b6ca7de49ce89d98792722a93698d122ba
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://1c779dbc302bd31414284fc2cc4909b6ca7de49ce89d98792722a93698d122ba
        exitCode: 0
        finishedAt: "2020-08-28T21:02:58Z"
        reason: Completed
        startedAt: "2020-08-28T21:02:58Z"
  phase: Succeeded
  podIP: 10.128.1.106
  podIPs:
  - ip: 10.128.1.106
  qosClass: Burstable
  startTime: "2020-08-28T21:02:47Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-2
    openshift.io/scc: privileged
  creationTimestamp: "2020-08-28T19:58:53Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-2
  name: apicast-openidc-policy-2-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-2
    uid: 6be0b86a-f657-41b0-8aee-9fe3a34bede6
  resourceVersion: "237724447"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-2-build
  uid: deb29767-4d45-4c54-ac61-0e27b12160ba
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-2","uid":"6be0b86a-f657-41b0-8aee-9fe3a34bede6","resourceVersion":"237723964","creationTimestamp":"2020-08-28T19:58:53Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-2","uid":"6be0b86a-f657-41b0-8aee-9fe3a34bede6","resourceVersion":"237723964","creationTimestamp":"2020-08-28T19:58:53Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-2","uid":"6be0b86a-f657-41b0-8aee-9fe3a34bede6","resourceVersion":"237723964","creationTimestamp":"2020-08-28T19:58:53Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-02.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-2-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-2-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-2-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T19:59:00Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T19:59:19Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T19:59:19Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-28T19:58:53Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://74910c17b542bb01e3a095d86f5e9738d9ffa5d75b52a14fb542ac10bc2c5997
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://74910c17b542bb01e3a095d86f5e9738d9ffa5d75b52a14fb542ac10bc2c5997
        exitCode: 1
        finishedAt: "2020-08-28T19:59:18Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-08-28T19:59:00Z"
  hostIP: 10.92.114.132
  initContainerStatuses:
  - containerID: cri-o://6aedb5b3a24b78ab4d3fcdf452de0bd1a7fc179cfb6e8e198e71ea912f75d2f9
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://6aedb5b3a24b78ab4d3fcdf452de0bd1a7fc179cfb6e8e198e71ea912f75d2f9
        exitCode: 0
        finishedAt: "2020-08-28T19:58:59Z"
        reason: Completed
        startedAt: "2020-08-28T19:58:56Z"
  - containerID: cri-o://534cb459f756fa3ad0f504caf384164ecef6ff4bc9e5cab61e26db6c6652096d
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://534cb459f756fa3ad0f504caf384164ecef6ff4bc9e5cab61e26db6c6652096d
        exitCode: 0
        finishedAt: "2020-08-28T19:58:59Z"
        reason: Completed
        startedAt: "2020-08-28T19:58:59Z"
  phase: Failed
  podIP: 10.131.2.166
  podIPs:
  - ip: 10.131.2.166
  qosClass: Burstable
  startTime: "2020-08-28T19:58:53Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-27
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-04T15:38:13Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-27
  name: apicast-openidc-policy-27-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-27
    uid: 0f2f28e5-212e-4ac7-9def-dc11747d959f
  resourceVersion: "246017118"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-27-build
  uid: 005ada71-8b9b-4a57-ba8b-3fc2a54a5a3f
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-27","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-27","uid":"0f2f28e5-212e-4ac7-9def-dc11747d959f","resourceVersion":"246016566","creationTimestamp":"2020-09-04T15:38:13Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"27"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-27","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-27","uid":"0f2f28e5-212e-4ac7-9def-dc11747d959f","resourceVersion":"246016566","creationTimestamp":"2020-09-04T15:38:13Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"27"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-27","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-27","uid":"0f2f28e5-212e-4ac7-9def-dc11747d959f","resourceVersion":"246016566","creationTimestamp":"2020-09-04T15:38:13Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"27"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-27-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-27-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-27-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:38:20Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:38:48Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:38:48Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:38:12Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://244ae73580825fa39a2bc9c9837fb392c2463e47fa26a0b05db8455860c6d581
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://244ae73580825fa39a2bc9c9837fb392c2463e47fa26a0b05db8455860c6d581
        exitCode: 0
        finishedAt: "2020-09-04T15:38:47Z"
        reason: Completed
        startedAt: "2020-09-04T15:38:20Z"
  hostIP: 10.92.114.131
  initContainerStatuses:
  - containerID: cri-o://114f6e7ed30fb4adb8e7b3909340318fcdfab08e3c752ffaa6b86872c7485a1e
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://114f6e7ed30fb4adb8e7b3909340318fcdfab08e3c752ffaa6b86872c7485a1e
        exitCode: 0
        finishedAt: "2020-09-04T15:38:18Z"
        reason: Completed
        startedAt: "2020-09-04T15:38:15Z"
  - containerID: cri-o://b0ff863eebfb6c19f2257871c3f3a80827c36100a1d9697d4466aad34eed0ff2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://b0ff863eebfb6c19f2257871c3f3a80827c36100a1d9697d4466aad34eed0ff2
        exitCode: 0
        finishedAt: "2020-09-04T15:38:19Z"
        reason: Completed
        startedAt: "2020-09-04T15:38:19Z"
  phase: Succeeded
  podIP: 10.130.2.53
  podIPs:
  - ip: 10.130.2.53
  qosClass: Burstable
  startTime: "2020-09-04T15:38:13Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-28
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T15:21:44Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-28
  name: apicast-openidc-policy-28-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-28
    uid: 3ab8597f-ae83-4419-be33-41f65c2a54c8
  resourceVersion: "249642642"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-28-build
  uid: 67916fbd-f7da-4667-9129-6773249eb4ed
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-28","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-28","uid":"3ab8597f-ae83-4419-be33-41f65c2a54c8","resourceVersion":"249642022","creationTimestamp":"2020-09-07T15:21:43Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"28"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-28","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-28","uid":"3ab8597f-ae83-4419-be33-41f65c2a54c8","resourceVersion":"249642022","creationTimestamp":"2020-09-07T15:21:43Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"28"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-28","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-28","uid":"3ab8597f-ae83-4419-be33-41f65c2a54c8","resourceVersion":"249642022","creationTimestamp":"2020-09-07T15:21:43Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"28"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-28-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-28-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-28-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:21:50Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:22:14Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:22:14Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:21:44Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://3dfaf0614d2ebd7b7a84eb71ab937b7d9e55f9fe69b47808495f85a04e112928
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://3dfaf0614d2ebd7b7a84eb71ab937b7d9e55f9fe69b47808495f85a04e112928
        exitCode: 0
        finishedAt: "2020-09-07T15:22:13Z"
        reason: Completed
        startedAt: "2020-09-07T15:21:50Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://853206c5e8b2aab94d0920dd92e5c0ea05bd44f9f044473bdcf5bae1d917233a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://853206c5e8b2aab94d0920dd92e5c0ea05bd44f9f044473bdcf5bae1d917233a
        exitCode: 0
        finishedAt: "2020-09-07T15:21:48Z"
        reason: Completed
        startedAt: "2020-09-07T15:21:45Z"
  - containerID: cri-o://0c4c5d6dd3428d738ba4413cbf886fce33ac9a5533fd4d0a2e6eafe06c02fc84
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://0c4c5d6dd3428d738ba4413cbf886fce33ac9a5533fd4d0a2e6eafe06c02fc84
        exitCode: 0
        finishedAt: "2020-09-07T15:21:49Z"
        reason: Completed
        startedAt: "2020-09-07T15:21:49Z"
  phase: Succeeded
  podIP: 10.128.0.239
  podIPs:
  - ip: 10.128.0.239
  qosClass: Burstable
  startTime: "2020-09-07T15:21:43Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-29
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T15:29:12Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-29
  name: apicast-openidc-policy-29-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-29
    uid: 43af69a0-4744-4a3a-9257-91ed3da0ddd8
  resourceVersion: "249649174"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-29-build
  uid: 9c9795f1-0a3a-4216-a7e2-c6d9af90ee79
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-29","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-29","uid":"43af69a0-4744-4a3a-9257-91ed3da0ddd8","resourceVersion":"249648625","creationTimestamp":"2020-09-07T15:29:11Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"29"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-29","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-29","uid":"43af69a0-4744-4a3a-9257-91ed3da0ddd8","resourceVersion":"249648625","creationTimestamp":"2020-09-07T15:29:11Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"29"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-29","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-29","uid":"43af69a0-4744-4a3a-9257-91ed3da0ddd8","resourceVersion":"249648625","creationTimestamp":"2020-09-07T15:29:11Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"29"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-02.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-29-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-29-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-29-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:29:19Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:29:37Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:29:37Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:29:12Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://de72f0cdf63f5409fcf1fce0381ce87606eb996a87a4c70756f89074590e439a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://de72f0cdf63f5409fcf1fce0381ce87606eb996a87a4c70756f89074590e439a
        exitCode: 0
        finishedAt: "2020-09-07T15:29:37Z"
        reason: Completed
        startedAt: "2020-09-07T15:29:19Z"
  hostIP: 10.92.114.132
  initContainerStatuses:
  - containerID: cri-o://6073e421f94f3b954ce39f84f3d7bf99a4e9e548c8a204b931fece01548d19fa
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://6073e421f94f3b954ce39f84f3d7bf99a4e9e548c8a204b931fece01548d19fa
        exitCode: 0
        finishedAt: "2020-09-07T15:29:17Z"
        reason: Completed
        startedAt: "2020-09-07T15:29:14Z"
  - containerID: cri-o://d08f94b91882a1d0a750c2f391612d69f481c5d45e28d64e4c5eeb0f5185b5e0
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://d08f94b91882a1d0a750c2f391612d69f481c5d45e28d64e4c5eeb0f5185b5e0
        exitCode: 0
        finishedAt: "2020-09-07T15:29:18Z"
        reason: Completed
        startedAt: "2020-09-07T15:29:18Z"
  phase: Succeeded
  podIP: 10.131.2.255
  podIPs:
  - ip: 10.131.2.255
  qosClass: Burstable
  startTime: "2020-09-07T15:29:12Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-30
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:17:15Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-30
  name: apicast-openidc-policy-30-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-30
    uid: c972a472-30ee-445c-97a2-8459ac28e3ba
  resourceVersion: "252208331"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-30-build
  uid: b03cc9d2-bf7a-44a9-946a-a447afa967ee
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-30","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-30","uid":"c972a472-30ee-445c-97a2-8459ac28e3ba","resourceVersion":"252207678","creationTimestamp":"2020-09-09T20:17:15Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"30"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-30","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-30","uid":"c972a472-30ee-445c-97a2-8459ac28e3ba","resourceVersion":"252207678","creationTimestamp":"2020-09-09T20:17:15Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"30"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-30","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-30","uid":"c972a472-30ee-445c-97a2-8459ac28e3ba","resourceVersion":"252207678","creationTimestamp":"2020-09-09T20:17:15Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"30"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-30-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-30-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-30-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:17:36Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:17:54Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:17:54Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:17:15Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://de949d1627a9f77c751b52e0df3a13ab6d728d635b4ecd3ba0b90ebe29086e3a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://de949d1627a9f77c751b52e0df3a13ab6d728d635b4ecd3ba0b90ebe29086e3a
        exitCode: 1
        finishedAt: "2020-09-09T20:17:53Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-09-09T20:17:36Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://b3f4e4550a140a5ff5c31ff94dbfa033bdba0c0c6719e7f00a9a9637bcdb78d2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://b3f4e4550a140a5ff5c31ff94dbfa033bdba0c0c6719e7f00a9a9637bcdb78d2
        exitCode: 0
        finishedAt: "2020-09-09T20:17:34Z"
        reason: Completed
        startedAt: "2020-09-09T20:17:31Z"
  - containerID: cri-o://890240960b2e5e17c82c27c97a424de0c0888ff495dc457eaeae8c7d00088d88
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://890240960b2e5e17c82c27c97a424de0c0888ff495dc457eaeae8c7d00088d88
        exitCode: 0
        finishedAt: "2020-09-09T20:17:35Z"
        reason: Completed
        startedAt: "2020-09-09T20:17:35Z"
  phase: Failed
  podIP: 10.128.4.93
  podIPs:
  - ip: 10.128.4.93
  qosClass: Burstable
  startTime: "2020-09-09T20:17:16Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-31
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:18:24Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-31
  name: apicast-openidc-policy-31-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-31
    uid: 8c1408e7-25c6-4536-a6ef-ad6f1e995129
  resourceVersion: "252209142"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-31-build
  uid: a4359d24-6b89-44d7-acb9-4b05286a8c2a
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-31","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-31","uid":"8c1408e7-25c6-4536-a6ef-ad6f1e995129","resourceVersion":"252208655","creationTimestamp":"2020-09-09T20:18:24Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"31"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-31","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-31","uid":"8c1408e7-25c6-4536-a6ef-ad6f1e995129","resourceVersion":"252208655","creationTimestamp":"2020-09-09T20:18:24Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"31"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-31","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-31","uid":"8c1408e7-25c6-4536-a6ef-ad6f1e995129","resourceVersion":"252208655","creationTimestamp":"2020-09-09T20:18:24Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"31"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-31-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-31-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-31-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:18:38Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:18:57Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:18:57Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:18:24Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://7780becf7b27f227fad49b615ef52847aca4eb75429cf71ca361ea6504c06460
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://7780becf7b27f227fad49b615ef52847aca4eb75429cf71ca361ea6504c06460
        exitCode: 1
        finishedAt: "2020-09-09T20:18:56Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-09-09T20:18:38Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://de1658e60b7ba7f3a13443b4f5b4ca3768ded1e22143830e671dffbd6b9e5685
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://de1658e60b7ba7f3a13443b4f5b4ca3768ded1e22143830e671dffbd6b9e5685
        exitCode: 0
        finishedAt: "2020-09-09T20:18:37Z"
        reason: Completed
        startedAt: "2020-09-09T20:18:29Z"
  - containerID: cri-o://f7711051d581daa1ee27a0331bf686b5e7af5517cc3972c0ee94be5f7294979b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://f7711051d581daa1ee27a0331bf686b5e7af5517cc3972c0ee94be5f7294979b
        exitCode: 0
        finishedAt: "2020-09-09T20:18:37Z"
        reason: Completed
        startedAt: "2020-09-09T20:18:37Z"
  phase: Failed
  podIP: 10.128.4.95
  podIPs:
  - ip: 10.128.4.95
  qosClass: Burstable
  startTime: "2020-09-09T20:18:25Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-32
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:32:52Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-32
  name: apicast-openidc-policy-32-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-32
    uid: fdfaf1b7-e47a-4a97-ba3b-91ddf19d7d6d
  resourceVersion: "252220288"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-32-build
  uid: 5d5bde73-4462-4ac2-9a49-5d1320a5f963
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-32","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-32","uid":"fdfaf1b7-e47a-4a97-ba3b-91ddf19d7d6d","resourceVersion":"252219781","creationTimestamp":"2020-09-09T20:32:52Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"32"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  - name: threescale-registry-auth
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-32","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-32","uid":"fdfaf1b7-e47a-4a97-ba3b-91ddf19d7d6d","resourceVersion":"252219781","creationTimestamp":"2020-09-09T20:32:52Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"32"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-32","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-32","uid":"fdfaf1b7-e47a-4a97-ba3b-91ddf19d7d6d","resourceVersion":"252219781","creationTimestamp":"2020-09-09T20:32:52Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"32"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: threescale-registry-auth-pull
    secret:
      defaultMode: 384
      secretName: threescale-registry-auth
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-32-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-32-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-32-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:33:05Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:33:22Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:33:22Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:32:52Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://81a774f458ac0bebdc06e9c16ea1b70f107f500110130255ce90c5f4a558d506
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://81a774f458ac0bebdc06e9c16ea1b70f107f500110130255ce90c5f4a558d506
        exitCode: 0
        finishedAt: "2020-09-09T20:33:22Z"
        reason: Completed
        startedAt: "2020-09-09T20:33:06Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://f0565010b80c7db87f52238cd66f9138b752a16933d6ee75d7e6f616e2aad7a4
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://f0565010b80c7db87f52238cd66f9138b752a16933d6ee75d7e6f616e2aad7a4
        exitCode: 0
        finishedAt: "2020-09-09T20:33:04Z"
        reason: Completed
        startedAt: "2020-09-09T20:32:55Z"
  - containerID: cri-o://7b499bbfd255217f4569f41c5b517c6aff6441b79f91a3e17e3472a99cbc3fa5
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://7b499bbfd255217f4569f41c5b517c6aff6441b79f91a3e17e3472a99cbc3fa5
        exitCode: 0
        finishedAt: "2020-09-09T20:33:05Z"
        reason: Completed
        startedAt: "2020-09-09T20:33:05Z"
  phase: Succeeded
  podIP: 10.128.4.96
  podIPs:
  - ip: 10.128.4.96
  qosClass: Burstable
  startTime: "2020-09-09T20:32:52Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: apicast-openidc-policy-33
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-09T20:37:29Z"
  labels:
    openshift.io/build.name: apicast-openidc-policy-33
  name: apicast-openidc-policy-33-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: apicast-openidc-policy-33
    uid: 81d71549-9a33-4cf5-b676-311f74fd77e3
  resourceVersion: "252224072"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-openidc-policy-33-build
  uid: eced6101-47d5-4a46-b6ce-089b784ad9ec
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-33","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-33","uid":"81d71549-9a33-4cf5-b676-311f74fd77e3","resourceVersion":"252223591","creationTimestamp":"2020-09-09T20:37:28Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"33"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: threescale-registry-auth-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  - name: threescale-registry-auth
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-33","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-33","uid":"81d71549-9a33-4cf5-b676-311f74fd77e3","resourceVersion":"252223591","creationTimestamp":"2020-09-09T20:37:28Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"33"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"apicast-openidc-policy-33","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/apicast-openidc-policy-33","uid":"81d71549-9a33-4cf5-b676-311f74fd77e3","resourceVersion":"252223591","creationTimestamp":"2020-09-09T20:37:28Z","labels":{"app":"apicast","buildconfig":"apicast-openidc-policy","openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"apicast-openidc-policy","openshift.io/build.number":"33"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"apicast-openidc-policy","uid":"e6552f7e-3319-4287-b3e4-00a9ec8f6f22","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Git","git":{"uri":"https://github.com/rohdrigo77/apicast-example-policy.git","ref":"master"}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b"},"pullSecret":{"name":"threescale-registry-auth"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/apicast-policy:openidc","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"apicast-openidc-policy"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: SOURCE_REPOSITORY
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_URI
      value: https://github.com/rohdrigo77/apicast-example-policy.git
    - name: SOURCE_REF
      value: master
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-03.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: threescale-registry-auth-pull
    secret:
      defaultMode: 384
      secretName: threescale-registry-auth
  - configMap:
      defaultMode: 420
      name: apicast-openidc-policy-33-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: apicast-openidc-policy-33-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: apicast-openidc-policy-33-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:37:41Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:37:59Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:37:59Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:37:29Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://df73b7c4b3a96a6275cdd4bce382890c7b5308840754e95832f2623fecb83c37
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://df73b7c4b3a96a6275cdd4bce382890c7b5308840754e95832f2623fecb83c37
        exitCode: 0
        finishedAt: "2020-09-09T20:37:58Z"
        reason: Completed
        startedAt: "2020-09-09T20:37:41Z"
  hostIP: 10.92.114.133
  initContainerStatuses:
  - containerID: cri-o://cf15bdffd96b35508370fa7598a527e00c9bcbf7847fb40778c3abacbf976557
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://cf15bdffd96b35508370fa7598a527e00c9bcbf7847fb40778c3abacbf976557
        exitCode: 0
        finishedAt: "2020-09-09T20:37:40Z"
        reason: Completed
        startedAt: "2020-09-09T20:37:37Z"
  - containerID: cri-o://40ca95af85a8605a64a6c97396c03d830f30b45d76cdb9724bad671d0d1ab139
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://40ca95af85a8605a64a6c97396c03d830f30b45d76cdb9724bad671d0d1ab139
        exitCode: 0
        finishedAt: "2020-09-09T20:37:40Z"
        reason: Completed
        startedAt: "2020-09-09T20:37:40Z"
  phase: Succeeded
  podIP: 10.128.4.100
  podIPs:
  - ip: 10.128.4.100
  qosClass: Burstable
  startTime: "2020-09-09T20:37:34Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    alm-examples: '[{"apiVersion":"apps.3scale.net/v1alpha1","kind":"APIcast","metadata":{"name":"example-apicast"},"spec":{"adminPortalCredentialsRef":{"name":"mysecretname"}}},
      {"apiVersion":"apps.3scale.net/v1alpha1","kind":"APIcast","metadata":{"name":"example-apicast"},"spec":{"embeddedConfigurationSecretRef":{"name":"mysecretname"}}}]'
    capabilities: Full Lifecycle
    categories: Integration & Delivery
    certified: "false"
    containerImage: registry.redhat.io/3scale-amp2/apicast-rhel7-operator@sha256:bcf2f453d7f828ad9df2a29e31cde4b4d3bd08b1205e1928b8362d7331854761
    createdAt: "2019-10-27T22:40:00Z"
    description: APIcast is an API gateway to be used together with Red Hat 3scale
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.4.230"
          ],
          "dns": {},
          "default-route": [
              "10.129.4.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      apicast-operator; cpu, memory limit for container apicast-operator'
    olm.operatorGroup: 3scale-project-h5p24
    olm.operatorNamespace: 3scale-project
    olm.targetNamespaces: 3scale-project
    openshift.io/scc: restricted
    repository: https://github.com/3scale/apicast-operator
    support: Red Hat, Inc.
    tectonic-visibility: ocs
  creationTimestamp: "2020-09-09T20:05:17Z"
  generateName: apicast-operator-7b4998676-
  labels:
    name: apicast-operator
    pod-template-hash: 7b4998676
  name: apicast-operator-7b4998676-rhtnc
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-operator-7b4998676
    uid: 7a5be6a7-dbf0-45ee-9218-3f8a3a31553e
  resourceVersion: "252198428"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-operator-7b4998676-rhtnc
  uid: 4cd6a069-0a68-42ea-b242-e3a76acb017f
spec:
  containers:
  - command:
    - apicast-operator
    env:
    - name: WATCH_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    - name: POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: OPERATOR_NAME
      value: apicast-operator
    - name: APICAST_IMAGE
      value: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    image: registry.redhat.io/3scale-amp2/apicast-rhel7-operator@sha256:bcf2f453d7f828ad9df2a29e31cde4b4d3bd08b1205e1928b8362d7331854761
    imagePullPolicy: IfNotPresent
    name: apicast-operator
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: apicast-operator-token-qpx9t
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: apicast-operator-dockercfg-mjbtv
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: apicast-operator
  serviceAccountName: apicast-operator
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: apicast-operator-token-qpx9t
    secret:
      defaultMode: 420
      secretName: apicast-operator-token-qpx9t
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:05:17Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:05:20Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:05:20Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:05:17Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://e815be3a32bb9efe4a0833010a12eebd7e81ab5ace25bf41978bd0a522c2d9fb
    image: registry.redhat.io/3scale-amp2/apicast-rhel7-operator@sha256:bcf2f453d7f828ad9df2a29e31cde4b4d3bd08b1205e1928b8362d7331854761
    imageID: registry.redhat.io/3scale-amp2/apicast-rhel7-operator@sha256:bcf2f453d7f828ad9df2a29e31cde4b4d3bd08b1205e1928b8362d7331854761
    lastState: {}
    name: apicast-operator
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-09T20:05:19Z"
  hostIP: 10.92.114.134
  phase: Running
  podIP: 10.129.4.230
  podIPs:
  - ip: 10.129.4.230
  qosClass: Burstable
  startTime: "2020-09-09T20:05:17Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "257404458"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.131.3.49"
          ],
          "dns": {},
          "default-route": [
              "10.131.2.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-14T15:39:08Z"
  generateName: apicast-prod-production-854f6486dd-
  labels:
    deployment: apicast-prod-production
    pod-template-hash: 854f6486dd
  name: apicast-prod-production-854f6486dd-2s5pn
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-prod-production-854f6486dd
    uid: 76937646-2d03-44a5-bd3a-45abc20b281b
  resourceVersion: "257405092"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-prod-production-854f6486dd-2s5pn
  uid: c0d673cd-354a-404f-bf21-c2c22c142868
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicastprod-production-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: production
    - name: APICAST_CONFIGURATION_LOADER
      value: boot
    - name: APICAST_CONFIGURATION_CACHE
      value: "300"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-prod-production
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:39:07Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:39:55Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:39:55Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:39:07Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://26ba121bfe7a4143c017b00e87ac4850c32121ed40e4448bd611ab9910653b33
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-prod-production
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-14T15:39:11Z"
  hostIP: 10.92.114.132
  phase: Running
  podIP: 10.131.3.49
  podIPs:
  - ip: 10.131.3.49
  qosClass: Burstable
  startTime: "2020-09-14T15:39:07Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "257397707"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.1.10"
          ],
          "dns": {},
          "default-route": [
              "10.128.0.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-14T15:30:22Z"
  generateName: apicast-prod-staging-56f69c7499-
  labels:
    deployment: apicast-prod-staging
    pod-template-hash: 56f69c7499
  name: apicast-prod-staging-56f69c7499-wl29q
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-prod-staging-56f69c7499
    uid: 5a1b0e52-6d6d-4a1f-b8ee-3ae1a17fac93
  resourceVersion: "257398345"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-prod-staging-56f69c7499-wl29q
  uid: 3680665c-a779-4b0e-a7da-ea9e3b1d36fa
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicastprod-staging-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: staging
    - name: APICAST_CONFIGURATION_LOADER
      value: lazy
    - name: APICAST_CONFIGURATION_CACHE
      value: "0"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-prod-staging
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:30:20Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:31:05Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:31:05Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:30:20Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://be25a9068152233e5a66afcb66bda5eb16935574df9c7c590c5c22117432e2ab
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-prod-staging
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-14T15:30:24Z"
  hostIP: 10.92.114.128
  phase: Running
  podIP: 10.128.1.10
  podIPs:
  - ip: 10.128.1.10
  qosClass: Burstable
  startTime: "2020-09-14T15:30:20Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-21
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-03T17:33:26Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-21
  name: apicast-production-21-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-21
    uid: 20b800c6-23b0-4d7f-9ec7-400ff9057d7a
  resourceVersion: "244921669"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-21-deploy
  uid: 3f1ff1ad-b9dc-4fdd-8a65-01b23222270a
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-21
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T17:33:26Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T18:03:32Z"
    message: 'containers with unready status: [deployment]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T18:03:32Z"
    message: 'containers with unready status: [deployment]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T17:33:26Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://da4eea4213e81de2ac36a784b5ff900d1d1f8280e9ebde09c1a5d7217ec5b081
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://da4eea4213e81de2ac36a784b5ff900d1d1f8280e9ebde09c1a5d7217ec5b081
        exitCode: 1
        finishedAt: "2020-09-03T18:03:32Z"
        reason: Error
        startedAt: "2020-09-03T17:33:28Z"
  hostIP: 10.92.114.132
  phase: Failed
  podIP: 10.131.2.221
  podIPs:
  - ip: 10.131.2.221
  qosClass: Burstable
  startTime: "2020-09-03T17:33:26Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-23
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-03T21:31:07Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-23
  name: apicast-production-23-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-23
    uid: f8019f86-7a34-460e-9593-d5fa97ab272c
  resourceVersion: "245123726"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-23-deploy
  uid: 614590b9-3c5e-4f37-a97f-a5d3aadfd449
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-23
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T21:31:07Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:01:13Z"
    message: 'containers with unready status: [deployment]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:01:13Z"
    message: 'containers with unready status: [deployment]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T21:31:07Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://3960feb5a437f0730aed7bc813fac9a7e66f3e6dc9a57ddf8bf37eb3e2642e7b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://3960feb5a437f0730aed7bc813fac9a7e66f3e6dc9a57ddf8bf37eb3e2642e7b
        exitCode: 1
        finishedAt: "2020-09-03T22:01:12Z"
        reason: Error
        startedAt: "2020-09-03T21:31:09Z"
  hostIP: 10.92.114.134
  phase: Failed
  podIP: 10.129.4.136
  podIPs:
  - ip: 10.129.4.136
  qosClass: Burstable
  startTime: "2020-09-03T21:31:07Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-26
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-03T22:11:22Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-26
  name: apicast-production-26-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-26
    uid: 8e3c33c0-d2a9-4ba3-8471-bb16d4242ac2
  resourceVersion: "245133629"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-26-deploy
  uid: 3c7f292a-b109-427c-a9b6-07c6e6c3728c
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-26
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:21Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:59Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:59Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:22Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://983e09a46d8f9a8b4f7c4d939e86ff8473a424c61e1858bc455a3532b58e6114
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://983e09a46d8f9a8b4f7c4d939e86ff8473a424c61e1858bc455a3532b58e6114
        exitCode: 0
        finishedAt: "2020-09-03T22:11:59Z"
        reason: Completed
        startedAt: "2020-09-03T22:11:23Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.1.61
  podIPs:
  - ip: 10.128.1.61
  qosClass: Burstable
  startTime: "2020-09-03T22:11:21Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-27
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-04T15:39:28Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-27
  name: apicast-production-27-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-27
    uid: a8fe3d68-fb30-4700-a9d4-f33127fe3d49
  resourceVersion: "246018449"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-27-deploy
  uid: 02b1b1ac-a662-4fcd-93b3-085d7d61d550
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-27
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:28Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:40:00Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:40:00Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:27Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://7272d3be4ec61da9842d0c84df1fb59f40ba19d8b751f0d11af760d6cc729374
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://7272d3be4ec61da9842d0c84df1fb59f40ba19d8b751f0d11af760d6cc729374
        exitCode: 0
        finishedAt: "2020-09-04T15:40:00Z"
        reason: Completed
        startedAt: "2020-09-04T15:39:30Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.2.56
  podIPs:
  - ip: 10.130.2.56
  qosClass: Burstable
  startTime: "2020-09-04T15:39:28Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-29
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-07T15:30:11Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-29
  name: apicast-production-29-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-29
    uid: f0969f4f-e24f-4034-bfc5-daadbeb0f4b1
  resourceVersion: "249650470"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-29-deploy
  uid: 31880a9b-76e8-4a3c-b3ba-15811a240aab
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-29
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:11Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:56Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:56Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:11Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://2a1c633533d1ea5f692ede51e03cab35db86af2400483c502e3c71d575abfbec
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://2a1c633533d1ea5f692ede51e03cab35db86af2400483c502e3c71d575abfbec
        exitCode: 0
        finishedAt: "2020-09-07T15:30:56Z"
        reason: Completed
        startedAt: "2020-09-07T15:30:14Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.244
  podIPs:
  - ip: 10.128.0.244
  qosClass: Burstable
  startTime: "2020-09-07T15:30:11Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-31
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-09T20:38:29Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-31
  name: apicast-production-31-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-31
    uid: 2813a6d8-f48c-4238-b978-5a272c0b206b
  resourceVersion: "252225149"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-31-deploy
  uid: f6b31faf-2842-41e6-8793-1064e14a3daf
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-31
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:29Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:39:08Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:39:08Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:29Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://afc208bace473b1433dacaf35c3b72820d2fe10edcd027d4714c3141e3eabd6d
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://afc208bace473b1433dacaf35c3b72820d2fe10edcd027d4714c3141e3eabd6d
        exitCode: 0
        finishedAt: "2020-09-09T20:39:08Z"
        reason: Completed
        startedAt: "2020-09-09T20:38:32Z"
  hostIP: 10.92.114.133
  phase: Succeeded
  podIP: 10.128.4.102
  podIPs:
  - ip: 10.128.4.102
  qosClass: Burstable
  startTime: "2020-09-09T20:38:29Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-production
    openshift.io/deployment.name: apicast-production-32
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-16T19:23:57Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-production-32
  name: apicast-production-32-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-production-32
    uid: 89d1945c-c2d9-4ee4-bc4d-525ae69487b7
  resourceVersion: "259737356"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-production-32-deploy
  uid: 0891d6c7-a1d3-4aa5-902c-58587559e2f5
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-production-32
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:23:57Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:24:02Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:24:02Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:23:57Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://1725c24ea6666740c59db7e34b5d824118b7433c47544f19287223f9deb140ad
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://1725c24ea6666740c59db7e34b5d824118b7433c47544f19287223f9deb140ad
        exitCode: 0
        finishedAt: "2020-09-16T19:24:01Z"
        reason: Completed
        startedAt: "2020-09-16T19:23:59Z"
  hostIP: 10.92.114.130
  phase: Succeeded
  podIP: 10.129.3.74
  podIPs:
  - ip: 10.129.3.74
  qosClass: Burstable
  startTime: "2020-09-16T19:23:57Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-staging
    openshift.io/deployment.name: apicast-staging-25
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-03T21:31:08Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-staging-25
  name: apicast-staging-25-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-staging-25
    uid: 5541309a-37e3-4658-9aa7-f37dece37783
  resourceVersion: "245123801"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-staging-25-deploy
  uid: 18cafd96-429c-4d19-babf-506116b8dc9f
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-staging-25
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T21:31:07Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:01:15Z"
    message: 'containers with unready status: [deployment]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:01:15Z"
    message: 'containers with unready status: [deployment]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T21:31:08Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://5ff712e9fff1f3a1efe088bea79bd7d67fda78a61b0cc3052eb18a7060b9db2e
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://5ff712e9fff1f3a1efe088bea79bd7d67fda78a61b0cc3052eb18a7060b9db2e
        exitCode: 1
        finishedAt: "2020-09-03T22:01:15Z"
        reason: Error
        startedAt: "2020-09-03T21:31:10Z"
  hostIP: 10.92.114.132
  phase: Failed
  podIP: 10.131.2.232
  podIPs:
  - ip: 10.131.2.232
  qosClass: Burstable
  startTime: "2020-09-03T21:31:07Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-staging
    openshift.io/deployment.name: apicast-staging-28
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-03T22:11:21Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-staging-28
  name: apicast-staging-28-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-staging-28
    uid: 90a19c56-5edb-483f-80a7-8aea27150311
  resourceVersion: "245133584"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-staging-28-deploy
  uid: 2f500fb4-44b5-4b25-9673-c468e7e317eb
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-staging-28
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:22Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:58Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:58Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-03T22:11:22Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://c78ee9617ca37b6d83e52c4368159e82e65a0e8440ab1a2a88b253e76c3951b2
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://c78ee9617ca37b6d83e52c4368159e82e65a0e8440ab1a2a88b253e76c3951b2
        exitCode: 0
        finishedAt: "2020-09-03T22:11:58Z"
        reason: Completed
        startedAt: "2020-09-03T22:11:24Z"
  hostIP: 10.92.114.130
  phase: Succeeded
  podIP: 10.129.3.241
  podIPs:
  - ip: 10.129.3.241
  qosClass: Burstable
  startTime: "2020-09-03T22:11:22Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-staging
    openshift.io/deployment.name: apicast-staging-29
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-04T15:39:28Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-staging-29
  name: apicast-staging-29-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-staging-29
    uid: 9db9213a-95d3-4e9a-921d-499f2342f4f2
  resourceVersion: "246018288"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-staging-29-deploy
  uid: 80d64622-8148-4dcf-bf26-bb57f3fef4b8
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-staging-29
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:28Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:54Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:54Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-04T15:39:27Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://46960d8bf982ea12a16a50c7248de0e00729c72aacc8505cd63fe3d0942b7183
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://46960d8bf982ea12a16a50c7248de0e00729c72aacc8505cd63fe3d0942b7183
        exitCode: 0
        finishedAt: "2020-09-04T15:39:54Z"
        reason: Completed
        startedAt: "2020-09-04T15:39:31Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.2.55
  podIPs:
  - ip: 10.130.2.55
  qosClass: Burstable
  startTime: "2020-09-04T15:39:28Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-staging
    openshift.io/deployment.name: apicast-staging-31
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-07T15:30:11Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-staging-31
  name: apicast-staging-31-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-staging-31
    uid: 3b49df5c-aa3e-483e-8afc-74006a7efc25
  resourceVersion: "249650616"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-staging-31-deploy
  uid: 3d5b1e05-cf58-413e-9d51-1c2e6c20fe6c
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-staging-31
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:11Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:31:03Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:31:03Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T15:30:11Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://fd2e94b92a7c12dedc250ef422a4e6d3e2bb7a757dcda7b3a55be81355cf7d2e
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://fd2e94b92a7c12dedc250ef422a4e6d3e2bb7a757dcda7b3a55be81355cf7d2e
        exitCode: 0
        finishedAt: "2020-09-07T15:31:03Z"
        reason: Completed
        startedAt: "2020-09-07T15:30:14Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.245
  podIPs:
  - ip: 10.128.0.245
  qosClass: Burstable
  startTime: "2020-09-07T15:30:11Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-staging
    openshift.io/deployment.name: apicast-staging-33
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-09T20:38:29Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-staging-33
  name: apicast-staging-33-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-staging-33
    uid: 34bba7aa-6099-4574-b0b7-a9e727e0b76c
  resourceVersion: "252225404"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-staging-33-deploy
  uid: 73b0656d-afb3-4dc8-b36c-9a9fd29d0ead
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-staging-33
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:29Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:39:23Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:39:23Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-09T20:38:29Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://5854dfc1d10370fe9a4167be300d431fe2a1a5a1baf011f7ad4abec002f1f3d8
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://5854dfc1d10370fe9a4167be300d431fe2a1a5a1baf011f7ad4abec002f1f3d8
        exitCode: 0
        finishedAt: "2020-09-09T20:39:23Z"
        reason: Completed
        startedAt: "2020-09-09T20:38:31Z"
  hostIP: 10.92.114.133
  phase: Succeeded
  podIP: 10.128.4.103
  podIPs:
  - ip: 10.128.4.103
  qosClass: Burstable
  startTime: "2020-09-09T20:38:29Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: apicast-staging
    openshift.io/deployment.name: apicast-staging-34
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-16T19:11:59Z"
  labels:
    openshift.io/deployer-pod-for.name: apicast-staging-34
  name: apicast-staging-34-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: apicast-staging-34
    uid: b4b3014a-4918-475d-9cc2-a0c714f433a2
  resourceVersion: "259728245"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-staging-34-deploy
  uid: 51831e68-6857-4d83-aee3-6aa3a800bda5
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: apicast-staging-34
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:11:59Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:12:04Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:12:04Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-16T19:11:59Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://9bc4b2b62087b26e60289917b5f924ef3854813a82dc3ea84cd8ea0d16b40574
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://9bc4b2b62087b26e60289917b5f924ef3854813a82dc3ea84cd8ea0d16b40574
        exitCode: 0
        finishedAt: "2020-09-16T19:12:04Z"
        reason: Completed
        startedAt: "2020-09-16T19:12:01Z"
  hostIP: 10.92.114.130
  phase: Succeeded
  podIP: 10.129.3.71
  podIPs:
  - ip: 10.129.3.71
  qosClass: Burstable
  startTime: "2020-09-16T19:11:59Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "257395277"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.4.237"
          ],
          "dns": {},
          "default-route": [
              "10.129.4.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-14T15:27:22Z"
  generateName: apicast-test-production-99d865767-
  labels:
    deployment: apicast-test-production
    pod-template-hash: 99d865767
  name: apicast-test-production-99d865767-zz8bl
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-test-production-99d865767
    uid: 9ee414eb-c998-4c41-92fd-c3c82bb6556d
  resourceVersion: "257395721"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-test-production-99d865767-zz8bl
  uid: 5f99919f-5e40-4295-9e5d-ef301a126783
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicasttest-production-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: production
    - name: APICAST_CONFIGURATION_LOADER
      value: boot
    - name: APICAST_CONFIGURATION_CACHE
      value: "300"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-test-production
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:27:22Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:28:00Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:28:00Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:27:20Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://20f8007672197a14b53e52945a8021213dd56d945a6e2554d69dd814b4830220
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-test-production
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-14T15:27:26Z"
  hostIP: 10.92.114.134
  phase: Running
  podIP: 10.129.4.237
  podIPs:
  - ip: 10.129.4.237
  qosClass: Burstable
  startTime: "2020-09-14T15:27:22Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    apicast.apps.3scale.net/admin-portal-secret-resource-version: "257393888"
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.4.191"
          ],
          "dns": {},
          "default-route": [
              "10.128.4.1"
          ]
      }]
    openshift.io/scc: restricted
    prometheus.io/port: "9421"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-14T15:25:36Z"
  generateName: apicast-test-staging-7c6dd47ff8-
  labels:
    deployment: apicast-test-staging
    pod-template-hash: 7c6dd47ff8
  name: apicast-test-staging-7c6dd47ff8-8dtpk
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: apicast-test-staging-7c6dd47ff8
    uid: 53e3300c-d30e-4515-942b-a0e650719526
  resourceVersion: "257394220"
  selfLink: /api/v1/namespaces/3scale-project/pods/apicast-test-staging-7c6dd47ff8-8dtpk
  uid: 8e7d5dc6-004c-4c0a-8154-ecf1769c5d52
spec:
  containers:
  - env:
    - name: THREESCALE_PORTAL_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: AdminPortalURL
          name: apicasttest-staging-secret
    - name: THREESCALE_DEPLOYMENT_ENV
      value: staging
    - name: APICAST_CONFIGURATION_LOADER
      value: lazy
    - name: APICAST_CONFIGURATION_CACHE
      value: "0"
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/live
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    name: apicast-test-staging
    ports:
    - containerPort: 8080
      name: proxy
      protocol: TCP
    - containerPort: 8090
      name: management
      protocol: TCP
    - containerPort: 9421
      name: metrics
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8090
        scheme: HTTP
      initialDelaySeconds: 15
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 128Mi
      requests:
        cpu: 500m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:25:36Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:26:02Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:26:02Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-14T15:25:34Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://abb78bba35a3cddf2c931bd081baac27baf453a526f60f4d47594356882dc003
    image: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    imageID: registry.redhat.io/3scale-amp2/apicast-gateway-rhel8@sha256:3023b37ccfc902bfafd2c344dc5595295369a2dc00ea38b27c193ca5b138942b
    lastState: {}
    name: apicast-test-staging
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-14T15:25:46Z"
  hostIP: 10.92.114.133
  phase: Running
  podIP: 10.128.4.191
  podIPs:
  - ip: 10.128.4.191
  qosClass: Burstable
  startTime: "2020-09-14T15:25:36Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-cron
    openshift.io/deployment.name: backend-cron-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:52Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-cron-1
  name: backend-cron-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-cron-1
    uid: ec65f92f-8553-4ecc-97b4-692193e8a8ef
  resourceVersion: "198379085"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-cron-1-deploy
  uid: 6f120a5c-03e8-47ff-b4a5-d403bae941ff
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-cron-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:01Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:01Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://f63752003283dcec2fd5c01e2facc1d06b707f2c61a1236edb37c3ab5179f00a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://f63752003283dcec2fd5c01e2facc1d06b707f2c61a1236edb37c3ab5179f00a
        exitCode: 0
        finishedAt: "2020-07-27T13:06:00Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:54Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.55
  podIPs:
  - ip: 10.130.3.55
  qosClass: Burstable
  startTime: "2020-07-27T13:05:52Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-cron
    openshift.io/deployment.name: backend-cron-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:13:21Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-cron-2
  name: backend-cron-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-cron-2
    uid: fb0a3ca1-4cd1-4dd6-b2f3-a6d20e9922bf
  resourceVersion: "198488670"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-cron-2-deploy
  uid: 64c5454e-79cc-425e-afb0-f2b948e99127
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-cron-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:13:21Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:13:35Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:13:35Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:13:21Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://e7a626ca45e2d17029fa8dbf7101ab26e2b6a9acc4981d319a4e9225572c28c0
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://e7a626ca45e2d17029fa8dbf7101ab26e2b6a9acc4981d319a4e9225572c28c0
        exitCode: 0
        finishedAt: "2020-07-27T15:13:34Z"
        reason: Completed
        startedAt: "2020-07-27T15:13:24Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.59
  podIPs:
  - ip: 10.128.0.59
  qosClass: Burstable
  startTime: "2020-07-27T15:13:21Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.3.41"
          ],
          "dns": {},
          "default-route": [
              "10.129.2.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for init
      container backend-redis-svc; cpu, memory limit for init container backend-redis-svc'
    openshift.io/deployment-config.latest-version: "3"
    openshift.io/deployment-config.name: backend-cron
    openshift.io/deployment.name: backend-cron-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:48Z"
  generateName: backend-cron-3-
  labels:
    app: 3scale-api-management
    deployment: backend-cron-3
    deploymentConfig: backend-cron
    deploymentconfig: backend-cron
    node-role.kubernetes.io/worker: ""
    threescale_component: backend
    threescale_component_element: cron
  name: backend-cron-3-28zrg
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: backend-cron-3
    uid: 06b3ef9a-5c2d-4a71-8959-a738308b66f2
  resourceVersion: "216975061"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-cron-3-28zrg
  uid: 8a63fe88-6cef-46ec-9f21-3db5a63d9a1f
spec:
  containers:
  - args:
    - backend-cron
    env:
    - name: CONFIG_REDIS_PROXY
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: CONFIG_QUEUES_MASTER_NAME
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_URL
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_ROLE
          name: backend-redis
    - name: RACK_ENV
      valueFrom:
        configMapKeyRef:
          key: RACK_ENV
          name: backend-environment
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imagePullPolicy: IfNotPresent
    name: backend-cron
    resources:
      limits:
        cpu: 150m
        memory: 80Mi
      requests:
        cpu: 50m
        memory: 40Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  initContainers:
  - command:
    - /opt/app/entrypoint.sh
    - sh
    - -c
    - until rake connectivity:redis_storage_queue_check; do sleep $SLEEP_SECONDS;
      done
    env:
    - name: CONFIG_REDIS_PROXY
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: CONFIG_QUEUES_MASTER_NAME
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_URL
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_ROLE
          name: backend-redis
    - name: RACK_ENV
      valueFrom:
        configMapKeyRef:
          key: RACK_ENV
          name: backend-environment
    - name: SLEEP_SECONDS
      value: "1"
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imagePullPolicy: Always
    name: backend-redis-svc
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:15Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:16Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:16Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:48Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://e026610a0312969b3328942262b490128b4687841e912977bf606ce9579d80a3
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imageID: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    lastState: {}
    name: backend-cron
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T18:06:15Z"
  hostIP: 10.92.114.130
  initContainerStatuses:
  - containerID: cri-o://25ef5eeade25d9cdf9d27906874ddc15dc59bb0a6b1383818982da315c851473
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imageID: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    lastState: {}
    name: backend-redis-svc
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://25ef5eeade25d9cdf9d27906874ddc15dc59bb0a6b1383818982da315c851473
        exitCode: 0
        finishedAt: "2020-08-11T18:06:15Z"
        reason: Completed
        startedAt: "2020-08-11T18:06:14Z"
  phase: Running
  podIP: 10.129.3.41
  podIPs:
  - ip: 10.129.3.41
  qosClass: Burstable
  startTime: "2020-08-11T18:05:48Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-cron
    openshift.io/deployment.name: backend-cron-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:45Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-cron-3
  name: backend-cron-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-cron-3
    uid: 06b3ef9a-5c2d-4a71-8959-a738308b66f2
  resourceVersion: "216975202"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-cron-3-deploy
  uid: 23608012-b260-4424-ae61-8c6098f54d3b
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-cron-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:44Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:18Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:18Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:45Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://6d31574f92f526b95b8fd00fabd9f080ace28d35789348458327714020ce606a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://6d31574f92f526b95b8fd00fabd9f080ace28d35789348458327714020ce606a
        exitCode: 0
        finishedAt: "2020-08-11T18:06:17Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:47Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.2.135
  podIPs:
  - ip: 10.131.2.135
  qosClass: Burstable
  startTime: "2020-08-11T18:05:44Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-listener
    openshift.io/deployment.name: backend-listener-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:52Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-listener-1
  name: backend-listener-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-listener-1
    uid: 206d894c-1fb7-4bed-a86e-9868f3866cfa
  resourceVersion: "198379652"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-listener-1-deploy
  uid: 1f0bfdb2-f707-4e88-a0ed-c7a087091b71
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-listener-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:36Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:36Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://6ced23c3647c768bbd38706d7389423b7f3b9944ec4fd111ca3f438e5a386303
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://6ced23c3647c768bbd38706d7389423b7f3b9944ec4fd111ca3f438e5a386303
        exitCode: 0
        finishedAt: "2020-07-27T13:06:36Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:54Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.2.106
  podIPs:
  - ip: 10.131.2.106
  qosClass: Burstable
  startTime: "2020-07-27T13:05:52Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-listener
    openshift.io/deployment.name: backend-listener-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:13:51Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-listener-2
  name: backend-listener-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-listener-2
    uid: cde70593-182f-4fc5-8b09-1a72433e98a1
  resourceVersion: "198489645"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-listener-2-deploy
  uid: 8294b123-a8cc-4167-ae38-26ad1eef513c
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-listener-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:13:50Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:14:31Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:14:31Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:13:51Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://0bbdd17b3d8668b86aa31bb1ed2bd3695ef88f0e01982f93467f02c42c2337c3
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://0bbdd17b3d8668b86aa31bb1ed2bd3695ef88f0e01982f93467f02c42c2337c3
        exitCode: 0
        finishedAt: "2020-07-27T15:14:31Z"
        reason: Completed
        startedAt: "2020-07-27T15:13:53Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.60
  podIPs:
  - ip: 10.128.0.60
  qosClass: Burstable
  startTime: "2020-07-27T15:13:50Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.3.208"
          ],
          "dns": {},
          "default-route": [
              "10.128.2.1"
          ]
      }]
    openshift.io/deployment-config.latest-version: "3"
    openshift.io/deployment-config.name: backend-listener
    openshift.io/deployment.name: backend-listener-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:49Z"
  generateName: backend-listener-3-
  labels:
    app: 3scale-api-management
    deployment: backend-listener-3
    deploymentConfig: backend-listener
    deploymentconfig: backend-listener
    node-role.kubernetes.io/worker: ""
    threescale_component: backend
    threescale_component_element: listener
  name: backend-listener-3-b6df6
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: backend-listener-3
    uid: ecc4dbe2-d318-44da-a18d-a4c7d4645262
  resourceVersion: "216975697"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-listener-3-b6df6
  uid: 449af975-bde1-48ad-92e6-042f6619ddb7
spec:
  containers:
  - args:
    - bin/3scale_backend
    - start
    - -e
    - production
    - -p
    - "3000"
    - -x
    - /dev/stdout
    env:
    - name: CONFIG_REDIS_PROXY
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: CONFIG_QUEUES_MASTER_NAME
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_URL
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_ROLE
          name: backend-redis
    - name: RACK_ENV
      valueFrom:
        configMapKeyRef:
          key: RACK_ENV
          name: backend-environment
    - name: PUMA_WORKERS
      value: "16"
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 3
      initialDelaySeconds: 30
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: 3000
      timeoutSeconds: 1
    name: backend-listener
    ports:
    - containerPort: 3000
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status
        port: 3000
        scheme: HTTP
      initialDelaySeconds: 30
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: "1"
        memory: 700Mi
      requests:
        cpu: 500m
        memory: 550Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  nodeName: infra-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:49Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:53Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:53Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:49Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://1af8c0b4b5df82a9c997aeb4e84bb7bdf0bdd0f48de77d89b19af961f231ba17
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imageID: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    lastState: {}
    name: backend-listener
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T18:06:16Z"
  hostIP: 10.92.114.129
  phase: Running
  podIP: 10.128.3.208
  podIPs:
  - ip: 10.128.3.208
  qosClass: Burstable
  startTime: "2020-08-11T18:05:49Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-listener
    openshift.io/deployment.name: backend-listener-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:45Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-listener-3
  name: backend-listener-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-listener-3
    uid: ecc4dbe2-d318-44da-a18d-a4c7d4645262
  resourceVersion: "216975932"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-listener-3-deploy
  uid: d2e241ce-331a-4c64-8be6-ae277c871a64
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-listener-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:44Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:56Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:56Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:45Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://76f59304a8cfa2d81dbc4153f152e58a044241258b0b6f6e92ddb1251039cb99
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://76f59304a8cfa2d81dbc4153f152e58a044241258b0b6f6e92ddb1251039cb99
        exitCode: 0
        finishedAt: "2020-08-11T18:06:55Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:47Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.1.47
  podIPs:
  - ip: 10.128.1.47
  qosClass: Burstable
  startTime: "2020-08-11T18:05:44Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-worker
    openshift.io/deployment.name: backend-worker-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:52Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-worker-1
  name: backend-worker-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-worker-1
    uid: 63962665-45bc-4b2f-89a0-a25593be4553
  resourceVersion: "198379093"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-worker-1-deploy
  uid: ad64bbd6-fd14-4764-a62b-6b06d7793f5c
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-worker-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:54Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:03Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:03Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://a14044148629e5f132c5ba7f2956771664d7a59f8e7273a4b2461f0fa558eab5
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://a14044148629e5f132c5ba7f2956771664d7a59f8e7273a4b2461f0fa558eab5
        exitCode: 0
        finishedAt: "2020-07-27T13:06:02Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:56Z"
  hostIP: 10.92.114.134
  phase: Succeeded
  podIP: 10.129.4.143
  podIPs:
  - ip: 10.129.4.143
  qosClass: Burstable
  startTime: "2020-07-27T13:05:54Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-worker
    openshift.io/deployment.name: backend-worker-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:14:22Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-worker-2
  name: backend-worker-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-worker-2
    uid: ae369959-4676-45a4-bcac-3a5d821fa5ad
  resourceVersion: "198489738"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-worker-2-deploy
  uid: 6773fbf7-a14c-4c4f-8d66-c7cfb9efe4f7
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-worker-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:14:23Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:14:36Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:14:36Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:14:22Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://9eb532ef584c071173a3b62d0dc421e5fbf8d570caf6c55e7a13f7f97703b971
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://9eb532ef584c071173a3b62d0dc421e5fbf8d570caf6c55e7a13f7f97703b971
        exitCode: 0
        finishedAt: "2020-07-27T15:14:35Z"
        reason: Completed
        startedAt: "2020-07-27T15:14:25Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.68
  podIPs:
  - ip: 10.130.3.68
  qosClass: Burstable
  startTime: "2020-07-27T15:14:23Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.4.33"
          ],
          "dns": {},
          "default-route": [
              "10.129.4.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for init
      container backend-redis-svc; cpu, memory limit for init container backend-redis-svc'
    openshift.io/deployment-config.latest-version: "3"
    openshift.io/deployment-config.name: backend-worker
    openshift.io/deployment.name: backend-worker-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:48Z"
  generateName: backend-worker-3-
  labels:
    app: 3scale-api-management
    deployment: backend-worker-3
    deploymentConfig: backend-worker
    deploymentconfig: backend-worker
    node-role.kubernetes.io/worker: ""
    threescale_component: backend
    threescale_component_element: worker
  name: backend-worker-3-c6ft8
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: backend-worker-3
    uid: af56ccb1-f616-41fa-b8a1-869b24671dbc
  resourceVersion: "216975075"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-worker-3-c6ft8
  uid: 56d6f58c-1c71-4438-927b-295a3d0bcb49
spec:
  containers:
  - args:
    - bin/3scale_backend_worker
    - run
    env:
    - name: CONFIG_REDIS_PROXY
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: CONFIG_QUEUES_MASTER_NAME
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_URL
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_ROLE
          name: backend-redis
    - name: RACK_ENV
      valueFrom:
        configMapKeyRef:
          key: RACK_ENV
          name: backend-environment
    - name: CONFIG_EVENTS_HOOK
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-events-hook
    - name: CONFIG_EVENTS_HOOK_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imagePullPolicy: IfNotPresent
    name: backend-worker
    resources:
      limits:
        cpu: "1"
        memory: 300Mi
      requests:
        cpu: 150m
        memory: 50Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  initContainers:
  - command:
    - /opt/app/entrypoint.sh
    - sh
    - -c
    - until rake connectivity:redis_storage_queue_check; do sleep $SLEEP_SECONDS;
      done
    env:
    - name: CONFIG_REDIS_PROXY
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: CONFIG_QUEUES_MASTER_NAME
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_URL
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_QUEUES_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_QUEUES_SENTINEL_ROLE
          name: backend-redis
    - name: RACK_ENV
      valueFrom:
        configMapKeyRef:
          key: RACK_ENV
          name: backend-environment
    - name: SLEEP_SECONDS
      value: "1"
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imagePullPolicy: Always
    name: backend-redis-svc
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:15Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:16Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:16Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:48Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://457e64775f5083ab6ddc8d08832ac9686add810a748c863c919277ea3993a73b
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imageID: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    lastState: {}
    name: backend-worker
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T18:06:15Z"
  hostIP: 10.92.114.134
  initContainerStatuses:
  - containerID: cri-o://e07c6cf1699bc6b15680fbeb8b645bf93de37002b2c257dacdd73f3dfb0d7fd1
    image: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    imageID: registry.redhat.io/3scale-amp2/backend-rhel7@sha256:bd626295c55a7815a816d7049fba1febdec6a3305dee2a3292e92a26d56036b0
    lastState: {}
    name: backend-redis-svc
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://e07c6cf1699bc6b15680fbeb8b645bf93de37002b2c257dacdd73f3dfb0d7fd1
        exitCode: 0
        finishedAt: "2020-08-11T18:06:14Z"
        reason: Completed
        startedAt: "2020-08-11T18:06:13Z"
  phase: Running
  podIP: 10.129.4.33
  podIPs:
  - ip: 10.129.4.33
  qosClass: Burstable
  startTime: "2020-08-11T18:05:48Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: backend-worker
    openshift.io/deployment.name: backend-worker-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:45Z"
  labels:
    openshift.io/deployer-pod-for.name: backend-worker-3
  name: backend-worker-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: backend-worker-3
    uid: af56ccb1-f616-41fa-b8a1-869b24671dbc
  resourceVersion: "216975164"
  selfLink: /api/v1/namespaces/3scale-project/pods/backend-worker-3-deploy
  uid: 3e466da7-d6c2-44a3-9d37-8682e43217e1
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: backend-worker-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:44Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:18Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:18Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:45Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://7fd8d08ff231db743d2ff44d25e15ab5e9ead0bf60f2668550ce0746f981a10b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://7fd8d08ff231db743d2ff44d25e15ab5e9ead0bf60f2668550ce0746f981a10b
        exitCode: 0
        finishedAt: "2020-08-11T18:06:18Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:46Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.155
  podIPs:
  - ip: 10.130.3.155
  qosClass: Burstable
  startTime: "2020-08-11T18:05:44Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container manage-dockerfile; cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: book-service-1
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-08T15:07:36Z"
  labels:
    openshift.io/build.name: book-service-1
  name: book-service-1-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: book-service-1
    uid: 7bf1e07a-1b4a-4c27-b2ca-dee815b8a987
  resourceVersion: "250849317"
  selfLink: /api/v1/namespaces/3scale-project/pods/book-service-1-build
  uid: fdff0124-9637-443a-967c-bed68add789a
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"book-service-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/book-service-1","uid":"7bf1e07a-1b4a-4c27-b2ca-dee815b8a987","resourceVersion":"250848800","creationTimestamp":"2020-09-08T15:07:36Z","labels":{"app":"book-service","buildconfig":"book-service","openshift.io/build-config.name":"book-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"book-service","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"book-service","uid":"02f845fa-9ea8-487b-9a33-46f047d3daa9","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:29d831cb1f5fe839ab6e8c59d57f695094938a9f97e071bdbc854e54a90ecb94"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Build configuration change"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"book-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"book-service-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/book-service-1","uid":"7bf1e07a-1b4a-4c27-b2ca-dee815b8a987","resourceVersion":"250848800","creationTimestamp":"2020-09-08T15:07:36Z","labels":{"app":"book-service","buildconfig":"book-service","openshift.io/build-config.name":"book-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"book-service","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"book-service","uid":"02f845fa-9ea8-487b-9a33-46f047d3daa9","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:29d831cb1f5fe839ab6e8c59d57f695094938a9f97e071bdbc854e54a90ecb94"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Build configuration change"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"book-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-04.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: book-service-1-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: book-service-1-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: book-service-1-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:07:39Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:08:05Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:08:05Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:07:36Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://b9b9f6bd42d4763575cc0b68385285b90c0c508c65815c1bfe27a3c2b5356b37
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://b9b9f6bd42d4763575cc0b68385285b90c0c508c65815c1bfe27a3c2b5356b37
        exitCode: 1
        finishedAt: "2020-09-08T15:08:05Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Getting image source signatures
          Copying blob sha256:e7c59289a7545b67b0e12162f8ce6b637cabaf93171e0d7e1bf3e98d286456c7
          Copying blob sha256:cf313e71c9fd8209b9df2ee0fb7471c014b3ec6f7144546b88ad7c46b5fb2cd4
          Copying blob sha256:3c81a5d20855a6cef8b997d709410e047e2839b5ad113f4c34d25e9fae9e3beb
          Copying blob sha256:07c69678314f4cb7384c115ffd5040765fe1fe42db1b8c789af11ce865771f7b
          Copying blob sha256:76608b6b9d54251299c5d3be69fdf53e05f97a3735bbcd5889c30ebb78608428
          Copying config sha256:62f2af090f787d63bf85381a756334bfda633d175937b2dba90742cb6e16de95
          Writing manifest to image destination
          Storing signatures
          Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:29d831cb1f5fe839ab6e8c59d57f695094938a9f97e071bdbc854e54a90ecb94
          STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:29d831cb1f5fe839ab6e8c59d57f695094938a9f97e071bdbc854e54a90ecb94
          STEP 2: LABEL "io.openshift.build.source-location"="/tmp/build/inputs"       "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:29d831cb1f5fe839ab6e8c59d57f695094938a9f97e071bdbc854e54a90ecb94"
          STEP 3: ENV OPENSHIFT_BUILD_NAME="book-service-1"     OPENSHIFT_BUILD_NAMESPACE="3scale-project"
          STEP 4: USER root
          STEP 5: COPY upload/src /tmp/src
          STEP 6: RUN chown -R 185:0 /tmp/src
          STEP 7: USER 185
          STEP 8: RUN /usr/local/s2i/assemble
          ==================================================================
          Starting S2I Java Build .....
          S2I source build with plain binaries detected
          Copying binaries from /tmp/src to /deployments ...
          cp: cannot stat '/tmp/src/*': No such file or directory
          Aborting due to error code 1 for copying /tmp/src to /deployments
          subprocess exited with status 1
          subprocess exited with status 1
          error: build error: error building at STEP "RUN /usr/local/s2i/assemble": exit status 1
        reason: Error
        startedAt: "2020-09-08T15:07:39Z"
  hostIP: 10.92.114.134
  initContainerStatuses:
  - containerID: cri-o://508d15e3e2f0bbf1e159735b84c29fe1d6dfb6bd36ee12fbc7a8a8c5df28e96a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://508d15e3e2f0bbf1e159735b84c29fe1d6dfb6bd36ee12fbc7a8a8c5df28e96a
        exitCode: 0
        finishedAt: "2020-09-08T15:07:39Z"
        reason: Completed
        startedAt: "2020-09-08T15:07:39Z"
  phase: Failed
  podIP: 10.129.4.193
  podIPs:
  - ip: 10.129.4.193
  qosClass: Burstable
  startTime: "2020-09-08T15:07:36Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: book-service
    openshift.io/deployment.name: book-service-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-08T15:41:31Z"
  labels:
    openshift.io/deployer-pod-for.name: book-service-1
  name: book-service-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: book-service-1
    uid: c43e1655-8091-4046-beeb-8d9a68b52121
  resourceVersion: "250881000"
  selfLink: /api/v1/namespaces/3scale-project/pods/book-service-1-deploy
  uid: 13d95441-c4e4-4a9c-a469-fda8378085e8
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: book-service-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:31Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:49Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:49Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:31Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://4918526ebd6d3a4c7ffcf2cc119c402dba7b145985235ca21af0bcc188d82284
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://4918526ebd6d3a4c7ffcf2cc119c402dba7b145985235ca21af0bcc188d82284
        exitCode: 0
        finishedAt: "2020-09-08T15:41:49Z"
        reason: Completed
        startedAt: "2020-09-08T15:41:34Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.3.18
  podIPs:
  - ip: 10.131.3.18
  qosClass: Burstable
  startTime: "2020-09-08T15:41:31Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.4.197"
          ],
          "dns": {},
          "default-route": [
              "10.129.4.1"
          ]
      }]
    openshift.io/deployment-config.latest-version: "1"
    openshift.io/deployment-config.name: book-service
    openshift.io/deployment.name: book-service-1
    openshift.io/generated-by: OpenShiftNewApp
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-08T15:41:34Z"
  generateName: book-service-1-
  labels:
    app: book-service
    deployment: book-service-1
    deploymentconfig: book-service
  name: book-service-1-jll5j
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: book-service-1
    uid: c43e1655-8091-4046-beeb-8d9a68b52121
  resourceVersion: "250880974"
  selfLink: /api/v1/namespaces/3scale-project/pods/book-service-1-jll5j
  uid: 081b41f1-3d5f-497a-a4bd-e304907ab8f3
spec:
  containers:
  - image: image-registry.openshift-image-registry.svc:5000/3scale-project/book-service@sha256:580fff8b679089ef830b1b128687a02bda68ae0f6f6d1320ee10ca7c937f8191
    imagePullPolicy: Always
    name: book-service
    ports:
    - containerPort: 8181
      protocol: TCP
    resources:
      limits:
        cpu: "1"
        memory: 512Mi
      requests:
        cpu: 50m
        memory: 256Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:34Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:49Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:49Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:34Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://61557c0774a2ada6fdeb5aeaaee4900338fbb270af528d1c1cd1a8211800f887
    image: image-registry.openshift-image-registry.svc:5000/3scale-project/book-service@sha256:580fff8b679089ef830b1b128687a02bda68ae0f6f6d1320ee10ca7c937f8191
    imageID: image-registry.openshift-image-registry.svc:5000/3scale-project/book-service@sha256:580fff8b679089ef830b1b128687a02bda68ae0f6f6d1320ee10ca7c937f8191
    lastState: {}
    name: book-service
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-08T15:41:48Z"
  hostIP: 10.92.114.134
  phase: Running
  podIP: 10.129.4.197
  podIPs:
  - ip: 10.129.4.197
  qosClass: Burstable
  startTime: "2020-09-08T15:41:34Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container manage-dockerfile; cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: book-service-2
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-08T15:14:35Z"
  labels:
    openshift.io/build.name: book-service-2
  name: book-service-2-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: book-service-2
    uid: 2b6e80bf-0189-4824-a9dc-3d818a5a2b63
  resourceVersion: "250855140"
  selfLink: /api/v1/namespaces/3scale-project/pods/book-service-2-build
  uid: fffd6485-665b-47e4-8728-8ea0fc3c0672
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"book-service-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/book-service-2","uid":"2b6e80bf-0189-4824-a9dc-3d818a5a2b63","resourceVersion":"250854745","creationTimestamp":"2020-09-08T15:14:34Z","labels":{"app":"book-service","buildconfig":"book-service","openshift.io/build-config.name":"book-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"book-service","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"book-service","uid":"02f845fa-9ea8-487b-9a33-46f047d3daa9","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"book-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"book-service-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/book-service-2","uid":"2b6e80bf-0189-4824-a9dc-3d818a5a2b63","resourceVersion":"250854745","creationTimestamp":"2020-09-08T15:14:34Z","labels":{"app":"book-service","buildconfig":"book-service","openshift.io/build-config.name":"book-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"book-service","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"book-service","uid":"02f845fa-9ea8-487b-9a33-46f047d3daa9","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"book-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-04.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: book-service-2-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: book-service-2-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: book-service-2-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:14:39Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:15:00Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:15:00Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:14:35Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://5c222ed5d9dfd96250050ae1fc4159eb0f5b6ce27171332bc36cb4b6a79225a4
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://5c222ed5d9dfd96250050ae1fc4159eb0f5b6ce27171332bc36cb4b6a79225a4
        exitCode: 1
        finishedAt: "2020-09-08T15:14:59Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Getting image source signatures
          Copying blob sha256:51e9f237b750efcda2d5755785cdb8dd080d51585ae35d368e4f9b29a11b1994
          Copying blob sha256:5ccfe6e48f4f71d761b34c61586ac1808cca10bf7e543a3666b802f38625c5a9
          Copying blob sha256:95ba73f94fc8f4c85e9b37f9b95f4f15fda80446024f985171f454b03e194462
          Copying blob sha256:6c85ac87d44df4b64d7c273886fc5aed55a28422df33dcb641884ffa419db218
          Copying blob sha256:35875365be086462ee5d275b62cfc13046029a9a084880c18583b932a5b23632
          Copying config sha256:8af4fe9149f32a43d83ebf4f38a44447324e8bf9509bcffb9c6540c19c5af26d
          Writing manifest to image destination
          Storing signatures
          Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b
          STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b
          STEP 2: LABEL "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"       "io.openshift.build.source-location"="/tmp/build/inputs"
          STEP 3: ENV OPENSHIFT_BUILD_NAME="book-service-2"     OPENSHIFT_BUILD_NAMESPACE="3scale-project"
          STEP 4: USER root
          STEP 5: COPY upload/src /tmp/src
          STEP 6: RUN chown -R 185:0 /tmp/src
          STEP 7: USER 185
          STEP 8: RUN /usr/local/s2i/assemble
          ==================================================================
          Starting S2I Java Build .....
          S2I source build with plain binaries detected
          Copying binaries from /tmp/src to /deployments ...
          cp: cannot stat '/tmp/src/*': No such file or directory
          Aborting due to error code 1 for copying /tmp/src to /deployments
          subprocess exited with status 1
          subprocess exited with status 1
          error: build error: error building at STEP "RUN /usr/local/s2i/assemble": exit status 1
        reason: Error
        startedAt: "2020-09-08T15:14:39Z"
  hostIP: 10.92.114.134
  initContainerStatuses:
  - containerID: cri-o://becaaccb82631396a044267c739c115cee777a344f5ec8dbcf19fbca7c2812d5
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://becaaccb82631396a044267c739c115cee777a344f5ec8dbcf19fbca7c2812d5
        exitCode: 0
        finishedAt: "2020-09-08T15:14:38Z"
        reason: Completed
        startedAt: "2020-09-08T15:14:38Z"
  phase: Failed
  podIP: 10.129.4.194
  podIPs:
  - ip: 10.129.4.194
  qosClass: Burstable
  startTime: "2020-09-08T15:14:35Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container manage-dockerfile; cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: book-service-3
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-08T15:40:55Z"
  labels:
    openshift.io/build.name: book-service-3
  name: book-service-3-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: book-service-3
    uid: 5f0cd481-b66c-42d7-8875-44d1e0bdb7ce
  resourceVersion: "250880758"
  selfLink: /api/v1/namespaces/3scale-project/pods/book-service-3-build
  uid: ca3de2d0-d526-41f4-8af9-b7638040a8ce
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"book-service-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/book-service-3","uid":"5f0cd481-b66c-42d7-8875-44d1e0bdb7ce","resourceVersion":"250880132","creationTimestamp":"2020-09-08T15:40:55Z","labels":{"app":"book-service","buildconfig":"book-service","openshift.io/build-config.name":"book-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"book-service","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"book-service","uid":"02f845fa-9ea8-487b-9a33-46f047d3daa9","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service@sha256:3d4219df0aeb172d1a4ada20c268ea47dd04ae10a67f599e90075f81b80608d1"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"book-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"book-service-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/book-service-3","uid":"5f0cd481-b66c-42d7-8875-44d1e0bdb7ce","resourceVersion":"250880132","creationTimestamp":"2020-09-08T15:40:55Z","labels":{"app":"book-service","buildconfig":"book-service","openshift.io/build-config.name":"book-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"book-service","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"book-service","uid":"02f845fa-9ea8-487b-9a33-46f047d3daa9","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service@sha256:3d4219df0aeb172d1a4ada20c268ea47dd04ae10a67f599e90075f81b80608d1"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/book-service:latest","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"book-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: worker-04.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: book-service-3-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: book-service-3-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: book-service-3-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:40:59Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:31Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:41:31Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T15:40:55Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://191183b8bd116a13e2a01581413c8019d85d4abf3ad7d5b93e008776527be0d0
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://191183b8bd116a13e2a01581413c8019d85d4abf3ad7d5b93e008776527be0d0
        exitCode: 0
        finishedAt: "2020-09-08T15:41:31Z"
        reason: Completed
        startedAt: "2020-09-08T15:40:59Z"
  hostIP: 10.92.114.134
  initContainerStatuses:
  - containerID: cri-o://fb1f3415eafc1295037f6aa2917c6cfd570458c395621545ea266ac69f4407f0
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://fb1f3415eafc1295037f6aa2917c6cfd570458c395621545ea266ac69f4407f0
        exitCode: 0
        finishedAt: "2020-09-08T15:40:59Z"
        reason: Completed
        startedAt: "2020-09-08T15:40:59Z"
  phase: Succeeded
  podIP: 10.129.4.196
  podIPs:
  - ip: 10.129.4.196
  qosClass: Burstable
  startTime: "2020-09-08T15:40:56Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container manage-dockerfile; cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: claro-mock-service-1
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T21:04:24Z"
  labels:
    openshift.io/build.name: claro-mock-service-1
  name: claro-mock-service-1-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: claro-mock-service-1
    uid: 1a93a373-267b-4c54-8173-fb4f462d7545
  resourceVersion: "249932810"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-1-build
  uid: 3883844a-c559-45a2-b281-4b33a2536f9f
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-1","uid":"1a93a373-267b-4c54-8173-fb4f462d7545","resourceVersion":"249932390","creationTimestamp":"2020-09-07T21:04:24Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d","fromRef":{"kind":"ImageStreamTag","name":"fuse-java-openshift:latest"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-1","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-1","uid":"1a93a373-267b-4c54-8173-fb4f462d7545","resourceVersion":"249932390","creationTimestamp":"2020-09-07T21:04:24Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"1"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d","fromRef":{"kind":"ImageStreamTag","name":"fuse-java-openshift:latest"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: claro-mock-service-1-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: claro-mock-service-1-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: claro-mock-service-1-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:04:27Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:04:44Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:04:44Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:04:24Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://755f6533550ce9d9d17eac836cf23408c31ae99487aee2fbbdb331fec1cc31b1
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://755f6533550ce9d9d17eac836cf23408c31ae99487aee2fbbdb331fec1cc31b1
        exitCode: 1
        finishedAt: "2020-09-07T21:04:44Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-09-07T21:04:27Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://2077391d0e5cc92f3213b05b21b126c3261e807eb83cfb4a14ba1a7070d43638
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://2077391d0e5cc92f3213b05b21b126c3261e807eb83cfb4a14ba1a7070d43638
        exitCode: 0
        finishedAt: "2020-09-07T21:04:27Z"
        reason: Completed
        startedAt: "2020-09-07T21:04:27Z"
  phase: Failed
  podIP: 10.128.1.19
  podIPs:
  - ip: 10.128.1.19
  qosClass: Burstable
  startTime: "2020-09-07T21:04:23Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: claro-mock-service-2
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T21:14:33Z"
  labels:
    openshift.io/build.name: claro-mock-service-2
  name: claro-mock-service-2-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: claro-mock-service-2
    uid: 8db399ee-9997-4bbf-9156-c09e2e749887
  resourceVersion: "249941957"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-2-build
  uid: aaab6513-fb14-43fe-961b-9ac07c725001
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-2","uid":"8db399ee-9997-4bbf-9156-c09e2e749887","resourceVersion":"249940971","creationTimestamp":"2020-09-07T21:14:33Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Binary","binary":{}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":null},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-2","uid":"8db399ee-9997-4bbf-9156-c09e2e749887","resourceVersion":"249940971","creationTimestamp":"2020-09-07T21:14:33Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Binary","binary":{}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":null},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    stdin: true
    stdinOnce: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-2","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-2","uid":"8db399ee-9997-4bbf-9156-c09e2e749887","resourceVersion":"249940971","creationTimestamp":"2020-09-07T21:14:33Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"2"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Binary","binary":{}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"registry.redhat.io/fuse7/fuse-java-openshift@sha256:df0102150f7065d64a11c35091e8d41fa208e9a372c69e5a81638f62f8a1569d"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":null},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: claro-mock-service-2-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: claro-mock-service-2-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: claro-mock-service-2-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:15:18Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:15:35Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:15:35Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:14:33Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://20c34853f7bcb7b80c41696ceb32691d236431e6aa7e6f8a3f87103eadf1bad4
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://20c34853f7bcb7b80c41696ceb32691d236431e6aa7e6f8a3f87103eadf1bad4
        exitCode: 1
        finishedAt: "2020-09-07T21:15:35Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          Warning: Pull failed, retrying in 5s ...
          error: build error: After retrying 2 times, Pull image still failed due to error: unable to retrieve auth token: invalid username/password: unauthorized: Please login to the Red Hat Registry using your Customer Portal credentials. Further instructions can be found here: https://access.redhat.com/RegistryAuthentication
        reason: Error
        startedAt: "2020-09-07T21:15:18Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://1e24b66339f86a529b6bb9f1fd1e3882b86b0412230df4ae0e230ea0f7e160bd
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://1e24b66339f86a529b6bb9f1fd1e3882b86b0412230df4ae0e230ea0f7e160bd
        exitCode: 0
        finishedAt: "2020-09-07T21:15:17Z"
        reason: Completed
        startedAt: "2020-09-07T21:14:36Z"
  - containerID: cri-o://b0f869c4be23edfe649d04c5575eba0d0dbef4c3db661b4aabdde6dfa40f90d0
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://b0f869c4be23edfe649d04c5575eba0d0dbef4c3db661b4aabdde6dfa40f90d0
        exitCode: 0
        finishedAt: "2020-09-07T21:15:17Z"
        reason: Completed
        startedAt: "2020-09-07T21:15:17Z"
  phase: Failed
  podIP: 10.128.1.21
  podIPs:
  - ip: 10.128.1.21
  qosClass: Burstable
  startTime: "2020-09-07T21:14:32Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container manage-dockerfile; cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: claro-mock-service-3
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T21:46:14Z"
  labels:
    openshift.io/build.name: claro-mock-service-3
  name: claro-mock-service-3-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: claro-mock-service-3
    uid: 37ed354f-07cc-44e2-9327-0fb62d463d98
  resourceVersion: "249969685"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-3-build
  uid: 7afe43f2-559e-4841-96a4-e1f91e14ddf8
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-3","uid":"37ed354f-07cc-44e2-9327-0fb62d463d98","resourceVersion":"249968907","creationTimestamp":"2020-09-07T21:46:14Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b","fromRef":{"kind":"ImageStreamTag","namespace":"openshift","name":"fuse7-java-openshift:1.5"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-3","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-3","uid":"37ed354f-07cc-44e2-9327-0fb62d463d98","resourceVersion":"249968907","creationTimestamp":"2020-09-07T21:46:14Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"3"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Image change","imageChangeBuild":{"imageID":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b","fromRef":{"kind":"ImageStreamTag","namespace":"openshift","name":"fuse7-java-openshift:1.5"}}}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: claro-mock-service-3-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: claro-mock-service-3-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: claro-mock-service-3-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:46:18Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:46:53Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:46:53Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:46:14Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://12797d6468535d532b3614f209366944a1f89c9af1c312ab3c03f40cdc60544a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://12797d6468535d532b3614f209366944a1f89c9af1c312ab3c03f40cdc60544a
        exitCode: 1
        finishedAt: "2020-09-07T21:46:52Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Getting image source signatures
          Copying blob sha256:5ccfe6e48f4f71d761b34c61586ac1808cca10bf7e543a3666b802f38625c5a9
          Copying blob sha256:95ba73f94fc8f4c85e9b37f9b95f4f15fda80446024f985171f454b03e194462
          Copying blob sha256:51e9f237b750efcda2d5755785cdb8dd080d51585ae35d368e4f9b29a11b1994
          Copying blob sha256:35875365be086462ee5d275b62cfc13046029a9a084880c18583b932a5b23632
          Copying blob sha256:6c85ac87d44df4b64d7c273886fc5aed55a28422df33dcb641884ffa419db218
          Copying config sha256:8af4fe9149f32a43d83ebf4f38a44447324e8bf9509bcffb9c6540c19c5af26d
          Writing manifest to image destination
          Storing signatures
          Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b
          STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b
          STEP 2: LABEL "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"       "io.openshift.build.source-location"="/tmp/build/inputs"
          STEP 3: ENV OPENSHIFT_BUILD_NAME="claro-mock-service-3"     OPENSHIFT_BUILD_NAMESPACE="3scale-project"
          STEP 4: USER root
          STEP 5: COPY upload/src /tmp/src
          STEP 6: RUN chown -R 185:0 /tmp/src
          STEP 7: USER 185
          STEP 8: RUN /usr/local/s2i/assemble
          ==================================================================
          Starting S2I Java Build .....
          S2I source build with plain binaries detected
          Copying binaries from /tmp/src to /deployments ...
          cp: cannot stat '/tmp/src/*': No such file or directory
          Aborting due to error code 1 for copying /tmp/src to /deployments
          subprocess exited with status 1
          subprocess exited with status 1
          error: build error: error building at STEP "RUN /usr/local/s2i/assemble": exit status 1
        reason: Error
        startedAt: "2020-09-07T21:46:18Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://df77c45cfcea285e2e24f88c4ac4481a0c5502b0ebc319a79c502d03249fff21
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://df77c45cfcea285e2e24f88c4ac4481a0c5502b0ebc319a79c502d03249fff21
        exitCode: 0
        finishedAt: "2020-09-07T21:46:17Z"
        reason: Completed
        startedAt: "2020-09-07T21:46:17Z"
  phase: Failed
  podIP: 10.128.1.25
  podIPs:
  - ip: 10.128.1.25
  qosClass: Burstable
  startTime: "2020-09-07T21:46:13Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container manage-dockerfile; cpu, memory limit for init container manage-dockerfile'
    openshift.io/build.name: claro-mock-service-4
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T21:46:53Z"
  labels:
    openshift.io/build.name: claro-mock-service-4
  name: claro-mock-service-4-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: claro-mock-service-4
    uid: a27256fd-7aa5-4ff1-8078-22d00ce3197a
  resourceVersion: "249969964"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-4-build
  uid: 0f642e6c-6f0d-4397-9beb-748fe76f9e96
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-4","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-4","uid":"a27256fd-7aa5-4ff1-8078-22d00ce3197a","resourceVersion":"249969045","creationTimestamp":"2020-09-07T21:46:22Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"4"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-4","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-4","uid":"a27256fd-7aa5-4ff1-8078-22d00ce3197a","resourceVersion":"249969045","creationTimestamp":"2020-09-07T21:46:22Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"4"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"None"},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":[{"message":"Manually triggered"}]},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: claro-mock-service-4-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: claro-mock-service-4-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: claro-mock-service-4-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:46:57Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:47:17Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:47:17Z"
    message: 'containers with unready status: [sti-build]'
    reason: ContainersNotReady
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:46:53Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://6a2be285f80b665947a6f653c7b0178237b0a79c6edbe0fcdbdf62e556d651c6
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://6a2be285f80b665947a6f653c7b0178237b0a79c6edbe0fcdbdf62e556d651c6
        exitCode: 1
        finishedAt: "2020-09-07T21:47:17Z"
        message: |
          Caching blobs under "/var/cache/blobs".
          Getting image source signatures
          Copying blob sha256:51e9f237b750efcda2d5755785cdb8dd080d51585ae35d368e4f9b29a11b1994
          Copying blob sha256:5ccfe6e48f4f71d761b34c61586ac1808cca10bf7e543a3666b802f38625c5a9
          Copying blob sha256:6c85ac87d44df4b64d7c273886fc5aed55a28422df33dcb641884ffa419db218
          Copying blob sha256:95ba73f94fc8f4c85e9b37f9b95f4f15fda80446024f985171f454b03e194462
          Copying blob sha256:35875365be086462ee5d275b62cfc13046029a9a084880c18583b932a5b23632
          Copying config sha256:8af4fe9149f32a43d83ebf4f38a44447324e8bf9509bcffb9c6540c19c5af26d
          Writing manifest to image destination
          Storing signatures
          Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b
          STEP 1: FROM image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b
          STEP 2: LABEL "io.openshift.build.image"="image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"       "io.openshift.build.source-location"="/tmp/build/inputs"
          STEP 3: ENV OPENSHIFT_BUILD_NAME="claro-mock-service-4"     OPENSHIFT_BUILD_NAMESPACE="3scale-project"
          STEP 4: USER root
          STEP 5: COPY upload/src /tmp/src
          STEP 6: RUN chown -R 185:0 /tmp/src
          STEP 7: USER 185
          STEP 8: RUN /usr/local/s2i/assemble
          ==================================================================
          Starting S2I Java Build .....
          S2I source build with plain binaries detected
          Copying binaries from /tmp/src to /deployments ...
          Aborting due to error code 1 for copying /tmp/src to /deployments
          cp: cannot stat '/tmp/src/*': No such file or directory
          subprocess exited with status 1
          subprocess exited with status 1
          error: build error: error building at STEP "RUN /usr/local/s2i/assemble": exit status 1
        reason: Error
        startedAt: "2020-09-07T21:46:57Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://784fb17861208d20c0b537180a990694e58073ff0d290c3f53a2a98289a32a09
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://784fb17861208d20c0b537180a990694e58073ff0d290c3f53a2a98289a32a09
        exitCode: 0
        finishedAt: "2020-09-07T21:46:56Z"
        reason: Completed
        startedAt: "2020-09-07T21:46:56Z"
  phase: Failed
  podIP: 10.128.1.26
  podIPs:
  - ip: 10.128.1.26
  qosClass: Burstable
  startTime: "2020-09-07T21:46:52Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      sti-build; cpu, memory limit for container sti-build; cpu, memory request for
      init container git-clone; cpu, memory limit for init container git-clone; cpu,
      memory request for init container manage-dockerfile; cpu, memory limit for init
      container manage-dockerfile'
    openshift.io/build.name: claro-mock-service-5
    openshift.io/scc: privileged
  creationTimestamp: "2020-09-07T21:49:15Z"
  labels:
    openshift.io/build.name: claro-mock-service-5
  name: claro-mock-service-5-build
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: build.openshift.io/v1
    controller: true
    kind: Build
    name: claro-mock-service-5
    uid: 84e19fcf-8331-4eff-b700-39ff431d2a7c
  resourceVersion: "249974912"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-5-build
  uid: e2d8fcec-eb3e-43f6-a613-980e350da133
spec:
  activeDeadlineSeconds: 604800
  containers:
  - args:
    - --loglevel=0
    command:
    - openshift-sti-build
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-5","uid":"84e19fcf-8331-4eff-b700-39ff431d2a7c","resourceVersion":"249971512","creationTimestamp":"2020-09-07T21:49:14Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Binary","binary":{}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":null},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: PUSH_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/push
    - name: PULL_DOCKERCFG_PATH
      value: /var/run/secrets/openshift.io/pull
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_STORAGE_DRIVER
      value: overlay
    - name: BUILD_ISOLATION
      value: chroot
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: sti-build
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/lib/containers/cache
      name: buildcachedir
    - mountPath: /var/run/secrets/openshift.io/push
      name: builder-dockercfg-jtvsh-push
      readOnly: true
    - mountPath: /var/run/secrets/openshift.io/pull
      name: builder-dockercfg-jtvsh-pull
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/lib/containers/storage
      name: container-storage-root
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: builder-dockercfg-jtvsh
  initContainers:
  - args:
    - --loglevel=0
    command:
    - openshift-git-clone
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-5","uid":"84e19fcf-8331-4eff-b700-39ff431d2a7c","resourceVersion":"249971512","creationTimestamp":"2020-09-07T21:49:14Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Binary","binary":{}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":null},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: git-clone
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    stdin: true
    stdinOnce: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  - args:
    - --loglevel=0
    command:
    - openshift-manage-dockerfile
    env:
    - name: BUILD
      value: |
        {"kind":"Build","apiVersion":"build.openshift.io/v1","metadata":{"name":"claro-mock-service-5","namespace":"3scale-project","selfLink":"/apis/build.openshift.io/v1/namespaces/3scale-project/builds/claro-mock-service-5","uid":"84e19fcf-8331-4eff-b700-39ff431d2a7c","resourceVersion":"249971512","creationTimestamp":"2020-09-07T21:49:14Z","labels":{"build":"claro-mock-service","buildconfig":"claro-mock-service","openshift.io/build-config.name":"claro-mock-service","openshift.io/build.start-policy":"Serial"},"annotations":{"openshift.io/build-config.name":"claro-mock-service","openshift.io/build.number":"5"},"ownerReferences":[{"apiVersion":"build.openshift.io/v1","kind":"BuildConfig","name":"claro-mock-service","uid":"e9570f67-9198-4571-b424-9b0e8aadb30e","controller":true}]},"spec":{"serviceAccount":"builder","source":{"type":"Binary","binary":{}},"strategy":{"type":"Source","sourceStrategy":{"from":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/openshift/fuse7-java-openshift@sha256:adc5b484c12f915309a95acb71890e4a1a8148d5dadd6cc22d0794cdab81557b"},"pullSecret":{"name":"builder-dockercfg-jtvsh"}}},"output":{"to":{"kind":"DockerImage","name":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0"},"pushSecret":{"name":"builder-dockercfg-jtvsh"}},"resources":{},"postCommit":{},"nodeSelector":null,"triggeredBy":null},"status":{"phase":"New","outputDockerImageReference":"image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0","config":{"kind":"BuildConfig","namespace":"3scale-project","name":"claro-mock-service"},"output":{}}}
    - name: LANG
      value: en_US.utf8
    - name: ALLOWED_UIDS
      value: 1-
    - name: DROP_CAPS
      value: KILL,MKNOD,SETGID,SETUID
    - name: BUILD_REGISTRIES_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/registries.conf
    - name: BUILD_REGISTRIES_DIR_PATH
      value: /var/run/configs/openshift.io/build-system/registries.d
    - name: BUILD_SIGNATURE_POLICY_PATH
      value: /var/run/configs/openshift.io/build-system/policy.json
    - name: BUILD_STORAGE_CONF_PATH
      value: /var/run/configs/openshift.io/build-system/storage.conf
    - name: BUILD_BLOBCACHE_DIR
      value: /var/cache/blobs
    - name: HTTP_PROXY
    - name: HTTPS_PROXY
    - name: NO_PROXY
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imagePullPolicy: IfNotPresent
    name: manage-dockerfile
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: FallbackToLogsOnError
    volumeMounts:
    - mountPath: /tmp/build
      name: buildworkdir
    - mountPath: /var/run/configs/openshift.io/build-system
      name: build-system-configs
      readOnly: true
    - mountPath: /var/run/configs/openshift.io/certs
      name: build-ca-bundles
    - mountPath: /etc/pki/ca-trust/extracted/pem
      name: build-proxy-ca-bundles
    - mountPath: /var/cache/blobs
      name: build-blob-cache
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: builder-token-gv4x9
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  nodeSelector:
    kubernetes.io/os: linux
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: builder
  serviceAccountName: builder
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - hostPath:
      path: /var/lib/containers/cache
      type: ""
    name: buildcachedir
  - emptyDir: {}
    name: buildworkdir
  - name: builder-dockercfg-jtvsh-push
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - name: builder-dockercfg-jtvsh-pull
    secret:
      defaultMode: 384
      secretName: builder-dockercfg-jtvsh
  - configMap:
      defaultMode: 420
      name: claro-mock-service-5-sys-config
    name: build-system-configs
  - configMap:
      defaultMode: 420
      items:
      - key: service-ca.crt
        path: certs.d/image-registry.openshift-image-registry.svc:5000/ca.crt
      name: claro-mock-service-5-ca
    name: build-ca-bundles
  - configMap:
      defaultMode: 420
      items:
      - key: ca-bundle.crt
        path: tls-ca-bundle.pem
      name: claro-mock-service-5-global-ca
    name: build-proxy-ca-bundles
  - emptyDir: {}
    name: container-storage-root
  - emptyDir: {}
    name: build-blob-cache
  - name: builder-token-gv4x9
    secret:
      defaultMode: 420
      secretName: builder-token-gv4x9
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:50:00Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:53:07Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:53:07Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-07T21:49:15Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://cd9aaf96f51a4b31d9ae7e566f2a963f9220f17022a089bd4736ec72e43cdfcd
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: sti-build
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://cd9aaf96f51a4b31d9ae7e566f2a963f9220f17022a089bd4736ec72e43cdfcd
        exitCode: 0
        finishedAt: "2020-09-07T21:53:07Z"
        reason: Completed
        startedAt: "2020-09-07T21:50:00Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://9bcbe55d92770f68e8dc9382db098b3aac75c9a6b879eeba850039b08b379b73
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: git-clone
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://9bcbe55d92770f68e8dc9382db098b3aac75c9a6b879eeba850039b08b379b73
        exitCode: 0
        finishedAt: "2020-09-07T21:49:58Z"
        reason: Completed
        startedAt: "2020-09-07T21:49:16Z"
  - containerID: cri-o://7c93edef8e647bde891aab066d3497da20202aea02ce9dc10a6ba7ef53a05540
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:84289f9fd2d94a61c1f8df840fc2f8074aec5e380522577322fde652131c4c2d
    lastState: {}
    name: manage-dockerfile
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://7c93edef8e647bde891aab066d3497da20202aea02ce9dc10a6ba7ef53a05540
        exitCode: 0
        finishedAt: "2020-09-07T21:49:59Z"
        reason: Completed
        startedAt: "2020-09-07T21:49:59Z"
  phase: Succeeded
  podIP: 10.128.1.27
  podIPs:
  - ip: 10.128.1.27
  qosClass: Burstable
  startTime: "2020-09-07T21:49:14Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.1.106"
          ],
          "dns": {},
          "default-route": [
              "10.128.0.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      claro-mock-service; cpu, memory limit for container claro-mock-service'
    openshift.io/deployment-config.latest-version: "3"
    openshift.io/deployment-config.name: claro-mock-service-dc
    openshift.io/deployment.name: claro-mock-service-dc-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-08T13:16:51Z"
  generateName: claro-mock-service-dc-3-
  labels:
    app: claro-mock-service
    deployment: claro-mock-service-dc-3
    deploymentconfig: claro-mock-service-dc
  name: claro-mock-service-dc-3-4xl2q
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: claro-mock-service-dc-3
    uid: d078b1ce-b490-440f-89a2-f0a470607151
  resourceVersion: "250754896"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-dc-3-4xl2q
  uid: 95f68f2b-7ba0-4d88-bdeb-4055bbfe759c
spec:
  containers:
  - image: image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0
    imagePullPolicy: Always
    name: claro-mock-service
    ports:
    - containerPort: 8080
      protocol: TCP
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:16:51Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:17:06Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:17:06Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:16:51Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://4ee35b2832e14ae5e73b09b7789f807cc6b88cf65c49fa377e6fa7eb4e2dea31
    image: image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service:1.0
    imageID: image-registry.openshift-image-registry.svc:5000/3scale-project/claro-mock-service@sha256:3d4219df0aeb172d1a4ada20c268ea47dd04ae10a67f599e90075f81b80608d1
    lastState: {}
    name: claro-mock-service
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-08T13:17:05Z"
  hostIP: 10.92.114.128
  phase: Running
  podIP: 10.128.1.106
  podIPs:
  - ip: 10.128.1.106
  qosClass: Burstable
  startTime: "2020-09-08T13:16:51Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: claro-mock-service-dc
    openshift.io/deployment.name: claro-mock-service-dc-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-08T13:16:48Z"
  labels:
    openshift.io/deployer-pod-for.name: claro-mock-service-dc-3
  name: claro-mock-service-dc-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: claro-mock-service-dc-3
    uid: d078b1ce-b490-440f-89a2-f0a470607151
  resourceVersion: "250755026"
  selfLink: /api/v1/namespaces/3scale-project/pods/claro-mock-service-dc-3-deploy
  uid: 8240785f-6780-40db-8b18-0a80f26cbea7
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: claro-mock-service-dc-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:16:47Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:17:07Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:17:07Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-08T13:16:48Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://3222e268a5559b60caf830b6c17b082e37b112da80be6f5f6e9c99468ecfb577
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://3222e268a5559b60caf830b6c17b082e37b112da80be6f5f6e9c99468ecfb577
        exitCode: 0
        finishedAt: "2020-09-08T13:17:06Z"
        reason: Completed
        startedAt: "2020-09-08T13:16:50Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.1.105
  podIPs:
  - ip: 10.128.1.105
  qosClass: Burstable
  startTime: "2020-09-08T13:16:47Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-app
    openshift.io/deployment.name: system-app-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T14:00:28Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-3
  name: system-app-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-3
    uid: 85f7f166-620a-4c3d-b4cc-21722ebc83fc
  resourceVersion: "198427583"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-3-deploy
  uid: 9474c50f-d664-477e-88ee-e6cf992e9fee
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:00:28Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:02:12Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:02:12Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:00:28Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://66e3e7326e0756efe86404ddd60366e4501fdb3ec4b4efcf379b42cb914a32fa
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://66e3e7326e0756efe86404ddd60366e4501fdb3ec4b4efcf379b42cb914a32fa
        exitCode: 0
        finishedAt: "2020-07-27T14:02:11Z"
        reason: Completed
        startedAt: "2020-07-27T14:00:31Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.63
  podIPs:
  - ip: 10.130.3.63
  qosClass: Burstable
  startTime: "2020-07-27T14:00:28Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    openshift.io/deployment.name: system-app-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T14:01:58Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-3
    openshift.io/deployer-pod.type: hook-post
  name: system-app-3-hook-post
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-3
    uid: 85f7f166-620a-4c3d-b4cc-21722ebc83fc
  resourceVersion: "198427675"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-3-hook-post
  uid: a50e2fdf-ad0a-4754-883e-ef8254a759f4
spec:
  activeDeadlineSeconds: 21510
  containers:
  - command:
    - bash
    - -c
    - bundle exec rake boot openshift:post_deploy
    env:
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    name: lifecycle
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:01:58Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:02:11Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:02:11Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:01:58Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://0d44262b2e1daa631ef9a4b153e0ae4118f0636c782ada014abda67db57f30ef
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState: {}
    name: lifecycle
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://0d44262b2e1daa631ef9a4b153e0ae4118f0636c782ada014abda67db57f30ef
        exitCode: 0
        finishedAt: "2020-07-27T14:02:10Z"
        reason: Completed
        startedAt: "2020-07-27T14:02:01Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.2.121
  podIPs:
  - ip: 10.131.2.121
  qosClass: Burstable
  startTime: "2020-07-27T14:01:58Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    openshift.io/deployment.name: system-app-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T14:00:31Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-3
    openshift.io/deployer-pod.type: hook-pre
  name: system-app-3-hook-pre
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-3
    uid: 85f7f166-620a-4c3d-b4cc-21722ebc83fc
  resourceVersion: "198426395"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-3-hook-pre
  uid: b0da5d92-873e-4c3f-8b9e-a076d7c55c0c
spec:
  activeDeadlineSeconds: 21597
  containers:
  - command:
    - bash
    - -c
    - bundle exec rake boot openshift:deploy
    env:
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    - name: MASTER_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: MASTER_ACCESS_TOKEN
          name: system-seed
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    name: lifecycle
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: OnFailure
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: system-storage
    persistentVolumeClaim:
      claimName: system-storage
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:00:31Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:00:42Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:00:42Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:00:31Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://607bf59d82ffbc64d817d899d42446a2065813940d3cc5adef82a0b147192b87
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState: {}
    name: lifecycle
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://607bf59d82ffbc64d817d899d42446a2065813940d3cc5adef82a0b147192b87
        exitCode: 0
        finishedAt: "2020-07-27T14:00:42Z"
        reason: Completed
        startedAt: "2020-07-27T14:00:32Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.2.119
  podIPs:
  - ip: 10.131.2.119
  qosClass: Burstable
  startTime: "2020-07-27T14:00:31Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-app
    openshift.io/deployment.name: system-app-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T13:50:55Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-4
  name: system-app-4-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-4
    uid: 0bcb5c24-be18-4f57-a37f-0ff222e456ba
  resourceVersion: "216760924"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-4-deploy
  uid: fe47bd42-5d6f-4301-bd49-00c8f47d6056
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-4
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:50:55Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:53:05Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:53:05Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:50:55Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://7a3d7c7edc5359c1c1c22996171dc1e99be6f68bd4dee12b809d3ed364ba3bd7
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://7a3d7c7edc5359c1c1c22996171dc1e99be6f68bd4dee12b809d3ed364ba3bd7
        exitCode: 0
        finishedAt: "2020-08-11T13:53:05Z"
        reason: Completed
        startedAt: "2020-08-11T13:50:57Z"
  hostIP: 10.92.114.130
  phase: Succeeded
  podIP: 10.129.3.28
  podIPs:
  - ip: 10.129.3.28
  qosClass: Burstable
  startTime: "2020-08-11T13:50:55Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    openshift.io/deployment.name: system-app-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T13:52:53Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-4
    openshift.io/deployer-pod.type: hook-post
  name: system-app-4-hook-post
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-4
    uid: 0bcb5c24-be18-4f57-a37f-0ff222e456ba
  resourceVersion: "216761034"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-4-hook-post
  uid: 77e64008-9fd1-45ff-ad2e-bcfead6d6b4a
spec:
  activeDeadlineSeconds: 21482
  containers:
  - command:
    - bash
    - -c
    - bundle exec rake boot openshift:post_deploy
    env:
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-4
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    name: lifecycle
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:52:53Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:53:05Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:53:05Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:52:53Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://9b2c3c5269b414ec8b2affd118f13ba7c028efe68aa2b5e6ee96e9cc0f6d0563
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState: {}
    name: lifecycle
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://9b2c3c5269b414ec8b2affd118f13ba7c028efe68aa2b5e6ee96e9cc0f6d0563
        exitCode: 0
        finishedAt: "2020-08-11T13:53:04Z"
        reason: Completed
        startedAt: "2020-08-11T13:52:55Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.2.134
  podIPs:
  - ip: 10.131.2.134
  qosClass: Burstable
  startTime: "2020-08-11T13:52:53Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    openshift.io/deployment.name: system-app-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T13:50:57Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-4
    openshift.io/deployer-pod.type: hook-pre
  name: system-app-4-hook-pre
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-4
    uid: 0bcb5c24-be18-4f57-a37f-0ff222e456ba
  resourceVersion: "216759576"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-4-hook-pre
  uid: b4b2487d-4280-455f-8942-9ee2d7e896a9
spec:
  activeDeadlineSeconds: 21597
  containers:
  - command:
    - bash
    - -c
    - bundle exec rake boot openshift:deploy
    env:
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: MASTER_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: MASTER_ACCESS_TOKEN
          name: system-seed
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-4
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    name: lifecycle
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: OnFailure
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: system-storage
    persistentVolumeClaim:
      claimName: system-storage
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:50:57Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:51:25Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:51:25Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:50:58Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://ff166bcc506e4345cec6a6425423fb474cb86c8749d05adcf6bda20da0faf162
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState:
      terminated:
        containerID: cri-o://755f544bdcb323fccc129ddfb6904c7aba5847786222e9f399fa7a0e478916ff
        exitCode: 1
        finishedAt: "2020-08-11T13:51:14Z"
        reason: Error
        startedAt: "2020-08-11T13:51:00Z"
    name: lifecycle
    ready: false
    restartCount: 1
    started: false
    state:
      terminated:
        containerID: cri-o://ff166bcc506e4345cec6a6425423fb474cb86c8749d05adcf6bda20da0faf162
        exitCode: 0
        finishedAt: "2020-08-11T13:51:24Z"
        reason: Completed
        startedAt: "2020-08-11T13:51:15Z"
  hostIP: 10.92.114.132
  phase: Succeeded
  podIP: 10.131.2.132
  podIPs:
  - ip: 10.131.2.132
  qosClass: Burstable
  startTime: "2020-08-11T13:50:57Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.131.2.133"
          ],
          "dns": {},
          "default-route": [
              "10.131.2.1"
          ]
      }]
    openshift.io/deployment-config.latest-version: "4"
    openshift.io/deployment-config.name: system-app
    openshift.io/deployment.name: system-app-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T13:51:26Z"
  generateName: system-app-4-
  labels:
    app: 3scale-api-management
    deployment: system-app-4
    deploymentConfig: system-app
    deploymentconfig: system-app
    node-role.kubernetes.io/worker: ""
    threescale_component: system
    threescale_component_element: app
  name: system-app-4-sbh5t
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: system-app-4
    uid: 0bcb5c24-be18-4f57-a37f-0ff222e456ba
  resourceVersion: "216760647"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-4-sbh5t
  uid: bb8e872f-994d-41b2-b5a0-ec47d825e8a4
spec:
  containers:
  - args:
    - env
    - TENANT_MODE=master
    - PORT=3002
    - container-entrypoint
    - bundle
    - exec
    - unicorn
    - -c
    - config/unicorn.rb
    env:
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 40
      initialDelaySeconds: 40
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: master
      timeoutSeconds: 10
    name: system-master
    ports:
    - containerPort: 3002
      name: master
      protocol: TCP
    readinessProbe:
      failureThreshold: 10
      httpGet:
        httpHeaders:
        - name: X-Forwarded-Proto
          value: https
        path: /check.txt
        port: master
        scheme: HTTP
      initialDelaySeconds: 60
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 10
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
    - mountPath: /opt/system-extra-configs
      name: system-config
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  - args:
    - env
    - TENANT_MODE=provider
    - PORT=3000
    - container-entrypoint
    - bundle
    - exec
    - unicorn
    - -c
    - config/unicorn.rb
    env:
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 40
      initialDelaySeconds: 40
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: provider
      timeoutSeconds: 10
    name: system-provider
    ports:
    - containerPort: 3000
      name: provider
      protocol: TCP
    readinessProbe:
      failureThreshold: 10
      httpGet:
        httpHeaders:
        - name: X-Forwarded-Proto
          value: https
        path: /check.txt
        port: provider
        scheme: HTTP
      initialDelaySeconds: 60
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 10
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
    - mountPath: /opt/system-extra-configs
      name: system-config
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  - args:
    - env
    - PORT=3001
    - container-entrypoint
    - bundle
    - exec
    - unicorn
    - -c
    - config/unicorn.rb
    env:
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 40
      initialDelaySeconds: 40
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: developer
      timeoutSeconds: 10
    name: system-developer
    ports:
    - containerPort: 3001
      name: developer
      protocol: TCP
    readinessProbe:
      failureThreshold: 10
      httpGet:
        httpHeaders:
        - name: X-Forwarded-Proto
          value: https
        path: /check.txt
        port: developer
        scheme: HTTP
      initialDelaySeconds: 60
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 10
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
      readOnly: true
    - mountPath: /opt/system-extra-configs
      name: system-config
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: system-storage
    persistentVolumeClaim:
      claimName: system-storage
  - configMap:
      defaultMode: 420
      items:
      - key: zync.yml
        path: zync.yml
      - key: rolling_updates.yml
        path: rolling_updates.yml
      - key: service_discovery.yml
        path: service_discovery.yml
      name: system
    name: system-config
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:51:26Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:52:50Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:52:50Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T13:51:26Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://977c14600095043a5b0ba7aceb478282f89d2a4f8871b3feef75c1fb1f0d72dd
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState: {}
    name: system-developer
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T13:51:28Z"
  - containerID: cri-o://60ba9e007ac39533716f65a587c7448ebede6ad5ba624f05d98a3171387ea7a1
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState: {}
    name: system-master
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T13:51:28Z"
  - containerID: cri-o://dca9ff9c6c1abb06b247a646e1a427c46dcf8a39569a5d568dae47fa60924e82
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:a934997501b41be2ca2b62e37c35bd334252b5e2ed28652c275bd1de8a9d324a
    lastState: {}
    name: system-provider
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T13:51:28Z"
  hostIP: 10.92.114.132
  phase: Running
  podIP: 10.131.2.133
  podIPs:
  - ip: 10.131.2.133
  qosClass: Burstable
  startTime: "2020-08-11T13:51:26Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-app
    openshift.io/deployment.name: system-app-5
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:43Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-5
  name: system-app-5-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-5
    uid: a3b62a5f-b663-4dfc-9339-4acc8a4989c3
  resourceVersion: "217278819"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-5-deploy
  uid: e48ca62d-8c14-4b69-b724-92aa6d486e02
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-5
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  containerStatuses:
  - containerID: cri-o://aae91f183a73b37560d61fad1ad82d090dea27c97dbe4ab20bb4f92a16210033
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    state:
      running:
        startedAt: "2020-08-11T18:05:45Z"
  message: Pod was active on the node longer than the specified deadline
  phase: Failed
  podIP: 10.130.3.153
  podIPs:
  - ip: 10.130.3.153
  qosClass: Burstable
  reason: DeadlineExceeded
  startTime: "2020-08-11T18:05:42Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    openshift.io/deployment.name: system-app-5
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:45Z"
  labels:
    openshift.io/deployer-pod-for.name: system-app-5
    openshift.io/deployer-pod.type: hook-pre
  name: system-app-5-hook-pre
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-app-5
    uid: a3b62a5f-b663-4dfc-9339-4acc8a4989c3
  resourceVersion: "217278878"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-app-5-hook-pre
  uid: c957a53a-8bad-4b50-a56f-ad55a6efa1db
spec:
  activeDeadlineSeconds: 21597
  containers:
  - command:
    - bash
    - -c
    - bundle exec rake boot openshift:deploy
    env:
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: MASTER_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: MASTER_ACCESS_TOKEN
          name: system-seed
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-app-5
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imagePullPolicy: IfNotPresent
    name: lifecycle
    resources:
      limits:
        cpu: "1"
        memory: 800Mi
      requests:
        cpu: 50m
        memory: 600Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-fc8nn
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: default-dockercfg-h648n
  nodeName: infra-02.osepext01.claro.amx
  priority: 0
  restartPolicy: OnFailure
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: system-storage
    persistentVolumeClaim:
      claimName: system-storage
  - name: default-token-fc8nn
    secret:
      defaultMode: 420
      secretName: default-token-fc8nn
status:
  containerStatuses:
  - image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imageID: ""
    lastState: {}
    name: lifecycle
    ready: false
    restartCount: 0
    state:
      waiting:
        reason: ContainerCreating
  message: Pod was active on the node longer than the specified deadline
  phase: Failed
  qosClass: Burstable
  reason: DeadlineExceeded
  startTime: "2020-08-11T18:05:45Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-memcache
    openshift.io/deployment.name: system-memcache-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:53Z"
  labels:
    openshift.io/deployer-pod-for.name: system-memcache-1
  name: system-memcache-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-memcache-1
    uid: 90941aa4-ee35-4602-9514-24c95dd230a1
  resourceVersion: "198379713"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-memcache-1-deploy
  uid: f667af13-2141-4228-ad85-905dbf92e658
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-memcache-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:55Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:39Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:39Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:53Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://39d93c617bc6de09e85573e1b01952ac1aeed12d2cb36c29916593b74bf394ed
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://39d93c617bc6de09e85573e1b01952ac1aeed12d2cb36c29916593b74bf394ed
        exitCode: 0
        finishedAt: "2020-07-27T13:06:38Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:58Z"
  hostIP: 10.92.114.134
  phase: Succeeded
  podIP: 10.129.4.144
  podIPs:
  - ip: 10.129.4.144
  qosClass: Burstable
  startTime: "2020-07-27T13:05:55Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.130.3.72"
          ],
          "dns": {},
          "default-route": [
              "10.130.2.1"
          ]
      }]
    openshift.io/deployment-config.latest-version: "2"
    openshift.io/deployment-config.name: system-memcache
    openshift.io/deployment.name: system-memcache-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:15:08Z"
  generateName: system-memcache-2-
  labels:
    app: 3scale-api-management
    deployment: system-memcache-2
    deploymentConfig: system-memcache
    deploymentconfig: system-memcache
    node-role.kubernetes.io/worker: ""
    threescale_component: system
    threescale_component_element: memcache
  name: system-memcache-2-9nzcb
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: system-memcache-2
    uid: 3997452c-9d4b-4cb2-a41d-3cd2445fd2b6
  resourceVersion: "198490912"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-memcache-2-9nzcb
  uid: 9a639d65-d357-4c12-bce6-11f446974212
spec:
  containers:
  - command:
    - memcached
    - -m
    - "64"
    image: registry.redhat.io/3scale-amp2/memcached-rhel7@sha256:2be57d773843135c0677e31d34b0cd24fa9dafc4ef1367521caa2bab7c6122e6
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 3
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: 11211
      timeoutSeconds: 1
    name: memcache
    ports:
    - containerPort: 11211
      protocol: TCP
    readinessProbe:
      exec:
        command:
        - sh
        - -c
        - echo version | nc $HOSTNAME 11211 | grep VERSION
      failureThreshold: 3
      initialDelaySeconds: 10
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 5
    resources:
      limits:
        cpu: 250m
        memory: 96Mi
      requests:
        cpu: 50m
        memory: 64Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:08Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:50Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:50Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:08Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://54bda975abe1b07119a5c78054291f33ec9a7088214fcd2fbbca4e7812a6f3ef
    image: registry.redhat.io/3scale-amp2/memcached-rhel7@sha256:2be57d773843135c0677e31d34b0cd24fa9dafc4ef1367521caa2bab7c6122e6
    imageID: registry.redhat.io/3scale-amp2/memcached-rhel7@sha256:2be57d773843135c0677e31d34b0cd24fa9dafc4ef1367521caa2bab7c6122e6
    lastState: {}
    name: memcache
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-07-27T15:15:14Z"
  hostIP: 10.92.114.131
  phase: Running
  podIP: 10.130.3.72
  podIPs:
  - ip: 10.130.3.72
  qosClass: Burstable
  startTime: "2020-07-27T15:15:08Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-memcache
    openshift.io/deployment.name: system-memcache-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:15:04Z"
  labels:
    openshift.io/deployer-pod-for.name: system-memcache-2
  name: system-memcache-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-memcache-2
    uid: 3997452c-9d4b-4cb2-a41d-3cd2445fd2b6
  resourceVersion: "198490998"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-memcache-2-deploy
  uid: 39dc8f2c-bccd-4d2a-8c92-53aced040063
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-memcache-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:05Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:53Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:53Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:04Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://98ed417fcf192e5a4cd75ac13c4cc14ab63b95615eabf9c61ced4acc3494a255
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://98ed417fcf192e5a4cd75ac13c4cc14ab63b95615eabf9c61ced4acc3494a255
        exitCode: 0
        finishedAt: "2020-07-27T15:15:52Z"
        reason: Completed
        startedAt: "2020-07-27T15:15:07Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.71
  podIPs:
  - ip: 10.130.3.71
  qosClass: Burstable
  startTime: "2020-07-27T15:15:05Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-sidekiq
    openshift.io/deployment.name: system-sidekiq-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:52:40Z"
  labels:
    openshift.io/deployer-pod-for.name: system-sidekiq-2
  name: system-sidekiq-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-sidekiq-2
    uid: b033fce0-4c62-428f-a04d-d3f45cba2163
  resourceVersion: "198427903"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sidekiq-2-deploy
  uid: d5893090-6591-450b-8d2b-67a2d6a4ac34
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-sidekiq-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:52:42Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:02:24Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T14:02:24Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:52:40Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://2c17fb48383406145d1319ce0ccac97e7bb24c93addef9d9d3309156536de04b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://2c17fb48383406145d1319ce0ccac97e7bb24c93addef9d9d3309156536de04b
        exitCode: 0
        finishedAt: "2020-07-27T14:02:23Z"
        reason: Completed
        startedAt: "2020-07-27T13:52:44Z"
  hostIP: 10.92.114.133
  phase: Succeeded
  podIP: 10.128.4.73
  podIPs:
  - ip: 10.128.4.73
  qosClass: Burstable
  startTime: "2020-07-27T13:52:42Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-sidekiq
    openshift.io/deployment.name: system-sidekiq-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:15:17Z"
  labels:
    openshift.io/deployer-pod-for.name: system-sidekiq-3
  name: system-sidekiq-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-sidekiq-3
    uid: 12d02218-c112-4244-8b98-10f616827908
  resourceVersion: "198490835"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sidekiq-3-deploy
  uid: 1bb2f2a3-bb76-4d00-9d34-76c0459f173f
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-sidekiq-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:17Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:35Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:35Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:17Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://205703d23cddd14ac0cc20521d006576764b8aba412f08bb9abd9313571441f3
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://205703d23cddd14ac0cc20521d006576764b8aba412f08bb9abd9313571441f3
        exitCode: 0
        finishedAt: "2020-07-27T15:15:35Z"
        reason: Completed
        startedAt: "2020-07-27T15:15:19Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.73
  podIPs:
  - ip: 10.130.3.73
  qosClass: Burstable
  startTime: "2020-07-27T15:15:17Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.4.32"
          ],
          "dns": {},
          "default-route": [
              "10.129.4.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for init
      container check-svc; cpu, memory limit for init container check-svc'
    openshift.io/deployment-config.latest-version: "4"
    openshift.io/deployment-config.name: system-sidekiq
    openshift.io/deployment.name: system-sidekiq-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:46Z"
  generateName: system-sidekiq-4-
  labels:
    app: 3scale-api-management
    deployment: system-sidekiq-4
    deploymentConfig: system-sidekiq
    deploymentconfig: system-sidekiq
    node-role.kubernetes.io/worker: ""
    threescale_component: system
    threescale_component_element: sidekiq
  name: system-sidekiq-4-5shk9
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: system-sidekiq-4
    uid: ac7320f1-9c6c-452d-a132-1e08b20e8efd
  resourceVersion: "264679225"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sidekiq-4-5shk9
  uid: d79c09ab-d9c3-468c-bb0c-7e4897a34954
spec:
  containers:
  - args:
    - rake
    - sidekiq:worker
    - RAILS_MAX_THREADS=25
    env:
    - name: AMP_RELEASE
      valueFrom:
        configMapKeyRef:
          key: AMP_RELEASE
          name: system-environment
    - name: APICAST_REGISTRY_URL
      valueFrom:
        configMapKeyRef:
          key: APICAST_REGISTRY_URL
          name: system-environment
    - name: FORCE_SSL
      valueFrom:
        configMapKeyRef:
          key: FORCE_SSL
          name: system-environment
    - name: PROVIDER_PLAN
      valueFrom:
        configMapKeyRef:
          key: PROVIDER_PLAN
          name: system-environment
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: RAILS_LOG_LEVEL
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_LEVEL
          name: system-environment
    - name: RAILS_LOG_TO_STDOUT
      valueFrom:
        configMapKeyRef:
          key: RAILS_LOG_TO_STDOUT
          name: system-environment
    - name: SSL_CERT_DIR
      valueFrom:
        configMapKeyRef:
          key: SSL_CERT_DIR
          name: system-environment
    - name: THINKING_SPHINX_PORT
      valueFrom:
        configMapKeyRef:
          key: THINKING_SPHINX_PORT
          name: system-environment
    - name: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SANDBOX_PROXY_OPENSSL_VERIFY_MODE
          name: system-environment
    - name: THREESCALE_SUPERDOMAIN
      valueFrom:
        configMapKeyRef:
          key: THREESCALE_SUPERDOMAIN
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: MASTER_DOMAIN
      valueFrom:
        secretKeyRef:
          key: MASTER_DOMAIN
          name: system-seed
    - name: MASTER_USER
      valueFrom:
        secretKeyRef:
          key: MASTER_USER
          name: system-seed
    - name: MASTER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: MASTER_PASSWORD
          name: system-seed
    - name: ADMIN_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ADMIN_ACCESS_TOKEN
          name: system-seed
    - name: USER_LOGIN
      valueFrom:
        secretKeyRef:
          key: ADMIN_USER
          name: system-seed
    - name: USER_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ADMIN_PASSWORD
          name: system-seed
    - name: USER_EMAIL
      valueFrom:
        secretKeyRef:
          key: ADMIN_EMAIL
          name: system-seed
    - name: TENANT_NAME
      valueFrom:
        secretKeyRef:
          key: TENANT_NAME
          name: system-seed
    - name: THINKING_SPHINX_ADDRESS
      value: system-sphinx
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: /tmp/sphinx.conf
    - name: EVENTS_SHARED_SECRET
      valueFrom:
        secretKeyRef:
          key: PASSWORD
          name: system-events-hook
    - name: RECAPTCHA_PUBLIC_KEY
      valueFrom:
        secretKeyRef:
          key: PUBLIC_KEY
          name: system-recaptcha
    - name: RECAPTCHA_PRIVATE_KEY
      valueFrom:
        secretKeyRef:
          key: PRIVATE_KEY
          name: system-recaptcha
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: system-app
    - name: MEMCACHE_SERVERS
      valueFrom:
        secretKeyRef:
          key: SERVERS
          name: system-memcache
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: BACKEND_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_URL
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_HOSTS
          name: backend-redis
    - name: BACKEND_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: REDIS_STORAGE_SENTINEL_ROLE
          name: backend-redis
    - name: APICAST_BACKEND_ROOT_ENDPOINT
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: BACKEND_ROUTE
      valueFrom:
        secretKeyRef:
          key: route_endpoint
          name: backend-listener
    - name: SMTP_ADDRESS
      valueFrom:
        secretKeyRef:
          key: address
          name: system-smtp
    - name: SMTP_USER_NAME
      valueFrom:
        secretKeyRef:
          key: username
          name: system-smtp
    - name: SMTP_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: system-smtp
    - name: SMTP_DOMAIN
      valueFrom:
        secretKeyRef:
          key: domain
          name: system-smtp
    - name: SMTP_PORT
      valueFrom:
        secretKeyRef:
          key: port
          name: system-smtp
    - name: SMTP_AUTHENTICATION
      valueFrom:
        secretKeyRef:
          key: authentication
          name: system-smtp
    - name: SMTP_OPENSSL_VERIFY_MODE
      valueFrom:
        secretKeyRef:
          key: openssl.verify.mode
          name: system-smtp
    - name: APICAST_ACCESS_TOKEN
      valueFrom:
        secretKeyRef:
          key: ACCESS_TOKEN
          name: system-master-apicast
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: CONFIG_INTERNAL_API_USER
      valueFrom:
        secretKeyRef:
          key: username
          name: backend-internal-api
    - name: CONFIG_INTERNAL_API_PASSWORD
      valueFrom:
        secretKeyRef:
          key: password
          name: backend-internal-api
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imagePullPolicy: IfNotPresent
    name: system-sidekiq
    resources:
      limits:
        cpu: "1"
        memory: 2Gi
      requests:
        cpu: 100m
        memory: 500Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/public/system
      name: system-storage
    - mountPath: /tmp
      name: system-tmp
    - mountPath: /opt/system-extra-configs
      name: system-config
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  initContainers:
  - command:
    - bash
    - -c
    - bundle exec sh -c "until rake boot:redis && curl --output /dev/null --silent
      --fail --head http://system-master:3000/status; do sleep $SLEEP_SECONDS; done"
    env:
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    - name: SLEEP_SECONDS
      value: "1"
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imagePullPolicy: Always
    name: check-svc
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - emptyDir:
      medium: Memory
    name: system-tmp
  - name: system-storage
    persistentVolumeClaim:
      claimName: system-storage
  - configMap:
      defaultMode: 420
      items:
      - key: zync.yml
        path: zync.yml
      - key: rolling_updates.yml
        path: rolling_updates.yml
      - key: service_discovery.yml
        path: service_discovery.yml
      name: system
    name: system-config
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:07:05Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-21T08:03:39Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-21T08:03:39Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:46Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://a24847d8d5e06a4ea21778871f8c9a41d29d7d525c6dfbebafc7ac7b57ab844d
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    lastState:
      terminated:
        containerID: cri-o://49785885af9e425308bc75e259e106796c542bbab214cb283ecdb538e8e0d6a7
        exitCode: 137
        finishedAt: "2020-09-21T08:03:37Z"
        reason: OOMKilled
        startedAt: "2020-09-20T08:03:41Z"
    name: system-sidekiq
    ready: true
    restartCount: 41
    started: true
    state:
      running:
        startedAt: "2020-09-21T08:03:38Z"
  hostIP: 10.92.114.134
  initContainerStatuses:
  - containerID: cri-o://65b081c51850d4e81c480929f9854df609acb6b67c33c47619c86cc030d9d465
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    lastState: {}
    name: check-svc
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://65b081c51850d4e81c480929f9854df609acb6b67c33c47619c86cc030d9d465
        exitCode: 0
        finishedAt: "2020-08-11T18:07:04Z"
        reason: Completed
        startedAt: "2020-08-11T18:06:52Z"
  phase: Running
  podIP: 10.129.4.32
  podIPs:
  - ip: 10.129.4.32
  qosClass: Burstable
  startTime: "2020-08-11T18:05:46Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-sidekiq
    openshift.io/deployment.name: system-sidekiq-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:43Z"
  labels:
    openshift.io/deployer-pod-for.name: system-sidekiq-4
  name: system-sidekiq-4-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-sidekiq-4
    uid: ac7320f1-9c6c-452d-a132-1e08b20e8efd
  resourceVersion: "216975993"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sidekiq-4-deploy
  uid: 59ba08fe-9256-424e-864e-823138485ec9
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-sidekiq-4
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:42Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:07:09Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:07:09Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:43Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://dcd901388e3893fab0c0ed2bf325ba06f927a5320881878ba9c053fb33354df8
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://dcd901388e3893fab0c0ed2bf325ba06f927a5320881878ba9c053fb33354df8
        exitCode: 0
        finishedAt: "2020-08-11T18:07:08Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:44Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.154
  podIPs:
  - ip: 10.130.3.154
  qosClass: Burstable
  startTime: "2020-08-11T18:05:42Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-sphinx
    openshift.io/deployment.name: system-sphinx-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:52:40Z"
  labels:
    openshift.io/deployer-pod-for.name: system-sphinx-2
  name: system-sphinx-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-sphinx-2
    uid: 8f4ee145-e0d6-40ca-8bdc-b34eb19b9926
  resourceVersion: "198424315"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sphinx-2-deploy
  uid: 7788bb41-21f4-42cf-bdcf-26d36fbe3319
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-sphinx-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:52:40Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:58:31Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:58:31Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:52:40Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://b525abfa80f362c6201f7cd41f46ca1088b5d529aaaf541fee6171e36c3ff02b
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://b525abfa80f362c6201f7cd41f46ca1088b5d529aaaf541fee6171e36c3ff02b
        exitCode: 0
        finishedAt: "2020-07-27T13:58:30Z"
        reason: Completed
        startedAt: "2020-07-27T13:52:44Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.61
  podIPs:
  - ip: 10.130.3.61
  qosClass: Burstable
  startTime: "2020-07-27T13:52:40Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-sphinx
    openshift.io/deployment.name: system-sphinx-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:15:31Z"
  labels:
    openshift.io/deployer-pod-for.name: system-sphinx-3
  name: system-sphinx-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-sphinx-3
    uid: 499b6683-ef75-4984-92ff-15911e3692c5
  resourceVersion: "198490882"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sphinx-3-deploy
  uid: 782ed3a8-49ab-4274-8d29-746856a5b89e
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-sphinx-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:30Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:42Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:42Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:31Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://cf2b1875e8dec6a372eaae320baab22168a76369867928dbf9dd5cee69cd1b23
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://cf2b1875e8dec6a372eaae320baab22168a76369867928dbf9dd5cee69cd1b23
        exitCode: 0
        finishedAt: "2020-07-27T15:15:42Z"
        reason: Completed
        startedAt: "2020-07-27T15:15:33Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.62
  podIPs:
  - ip: 10.128.0.62
  qosClass: Burstable
  startTime: "2020-07-27T15:15:30Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: system-sphinx
    openshift.io/deployment.name: system-sphinx-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:43Z"
  labels:
    openshift.io/deployer-pod-for.name: system-sphinx-4
  name: system-sphinx-4-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: system-sphinx-4
    uid: c8003b61-913a-4c52-84a8-6c7ae4e5d3df
  resourceVersion: "216975808"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sphinx-4-deploy
  uid: 9c57f46e-cb0e-4ecd-b4bd-7a6f4b3834b8
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: system-sphinx-4
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:43Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:54Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:54Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:43Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://79f5365a2a46fc0eb4c9e55318f342ff691a72605b7afc6a04e46e5bee565837
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://79f5365a2a46fc0eb4c9e55318f342ff691a72605b7afc6a04e46e5bee565837
        exitCode: 0
        finishedAt: "2020-08-11T18:06:53Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:45Z"
  hostIP: 10.92.114.134
  phase: Succeeded
  podIP: 10.129.4.30
  podIPs:
  - ip: 10.129.4.30
  qosClass: Burstable
  startTime: "2020-08-11T18:05:43Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.1.48"
          ],
          "dns": {},
          "default-route": [
              "10.128.0.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for init
      container system-master-svc; cpu, memory limit for init container system-master-svc'
    openshift.io/deployment-config.latest-version: "4"
    openshift.io/deployment-config.name: system-sphinx
    openshift.io/deployment.name: system-sphinx-4
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:46Z"
  generateName: system-sphinx-4-
  labels:
    app: 3scale-api-management
    deployment: system-sphinx-4
    deploymentConfig: system-sphinx
    deploymentconfig: system-sphinx
    node-role.kubernetes.io/worker: ""
    threescale_component: system
    threescale_component_element: sphinx
  name: system-sphinx-4-mtj2w
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: system-sphinx-4
    uid: c8003b61-913a-4c52-84a8-6c7ae4e5d3df
  resourceVersion: "216975633"
  selfLink: /api/v1/namespaces/3scale-project/pods/system-sphinx-4-mtj2w
  uid: 59b60144-79e9-4821-903b-fa8d095e7226
spec:
  containers:
  - args:
    - rake
    - openshift:thinking_sphinx:start
    env:
    - name: RAILS_ENV
      valueFrom:
        configMapKeyRef:
          key: RAILS_ENV
          name: system-environment
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-database
    - name: THINKING_SPHINX_ADDRESS
      value: 0.0.0.0
    - name: THINKING_SPHINX_CONFIGURATION_FILE
      value: db/sphinx/production.conf
    - name: THINKING_SPHINX_PID_FILE
      value: db/sphinx/searchd.pid
    - name: DELTA_INDEX_INTERVAL
      value: "5"
    - name: FULL_REINDEX_INTERVAL
      value: "60"
    - name: REDIS_URL
      valueFrom:
        secretKeyRef:
          key: URL
          name: system-redis
    - name: MESSAGE_BUS_REDIS_URL
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_URL
          name: system-redis
    - name: REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: NAMESPACE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_NAMESPACE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_NAMESPACE
          name: system-redis
    - name: REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: SENTINEL_HOSTS
          name: system-redis
    - name: REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: SENTINEL_ROLE
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_HOSTS
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_HOSTS
          name: system-redis
    - name: MESSAGE_BUS_REDIS_SENTINEL_ROLE
      valueFrom:
        secretKeyRef:
          key: MESSAGE_BUS_SENTINEL_ROLE
          name: system-redis
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 3
      initialDelaySeconds: 60
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: 9306
      timeoutSeconds: 1
    name: system-sphinx
    resources:
      limits:
        cpu: "1"
        memory: 512Mi
      requests:
        cpu: 80m
        memory: 250Mi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /opt/system/db/sphinx
      name: system-sphinx-database
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  initContainers:
  - command:
    - sh
    - -c
    - until $(curl --output /dev/null --silent --fail --head http://system-master:3000/status);
      do sleep $SLEEP_SECONDS; done
    env:
    - name: SLEEP_SECONDS
      value: "1"
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imagePullPolicy: Always
    name: system-master-svc
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - emptyDir: {}
    name: system-sphinx-database
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:48Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:49Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:49Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:46Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://2cd4d4783b52a07f1e875ae6186e13b05e9fed8048221f83e1a7d7c733fd0348
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    lastState: {}
    name: system-sphinx
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-08-11T18:06:49Z"
  hostIP: 10.92.114.128
  initContainerStatuses:
  - containerID: cri-o://68b72c2317d80c8a0ef4daf661f4b29d182144792b77c3537f34438d4a75b19a
    image: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    imageID: registry.redhat.io/3scale-amp2/system-rhel7@sha256:29836068f71f53f88b75345055808106cb4620bf3d488bd458709936d716377f
    lastState: {}
    name: system-master-svc
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://68b72c2317d80c8a0ef4daf661f4b29d182144792b77c3537f34438d4a75b19a
        exitCode: 0
        finishedAt: "2020-08-11T18:06:48Z"
        reason: Completed
        startedAt: "2020-08-11T18:06:48Z"
  phase: Running
  podIP: 10.128.1.48
  podIPs:
  - ip: 10.128.1.48
  qosClass: Burstable
  startTime: "2020-08-11T18:05:45Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync
    openshift.io/deployment.name: zync-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:52Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-1
  name: zync-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-1
    uid: 87ebc4b1-569a-4dae-83fa-59a9d27351c6
  resourceVersion: "198380904"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-1-deploy
  uid: c691a42e-7ca9-4032-9e27-177076c42f72
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:08:01Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:08:01Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://6aef7107897b064c55589676c24e6a522f15cf0d29e8474edf647b2900f500b5
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://6aef7107897b064c55589676c24e6a522f15cf0d29e8474edf647b2900f500b5
        exitCode: 0
        finishedAt: "2020-07-27T13:08:00Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:54Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.45
  podIPs:
  - ip: 10.128.0.45
  qosClass: Burstable
  startTime: "2020-07-27T13:05:52Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync
    openshift.io/deployment.name: zync-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:15:56Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-2
  name: zync-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-2
    uid: e2759060-b670-4b7a-8528-2786c8e75484
  resourceVersion: "198493189"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-2-deploy
  uid: 1cb86766-b76f-41a0-aad9-0fa3735fe0cb
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:56Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:17:57Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:17:57Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:15:56Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://e3f9a530edc2467ab8fd48e2e9e1f0cad0f5c2f54e1f2204f4081c4e085b9a23
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://e3f9a530edc2467ab8fd48e2e9e1f0cad0f5c2f54e1f2204f4081c4e085b9a23
        exitCode: 0
        finishedAt: "2020-07-27T15:17:57Z"
        reason: Completed
        startedAt: "2020-07-27T15:15:58Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.74
  podIPs:
  - ip: 10.130.3.74
  qosClass: Burstable
  startTime: "2020-07-27T15:15:56Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync
    openshift.io/deployment.name: zync-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:44Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-3
  name: zync-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-3
    uid: 3f3b0435-ffa7-438a-8b43-8db692036d2e
  resourceVersion: "216976951"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-3-deploy
  uid: 99437bf9-d624-4294-ab37-8af2a7f51366
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:43Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:08:07Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:08:07Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:44Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://800a9dc219714986eaf769c100d07e9daab17bea27c8ce92d797f1a673b92d8d
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://800a9dc219714986eaf769c100d07e9daab17bea27c8ce92d797f1a673b92d8d
        exitCode: 0
        finishedAt: "2020-08-11T18:08:06Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:45Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.1.46
  podIPs:
  - ip: 10.128.1.46
  qosClass: Burstable
  startTime: "2020-08-11T18:05:43Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.131.3.50"
          ],
          "dns": {},
          "default-route": [
              "10.131.2.1"
          ]
      }]
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for init
      container zync-db-svc; cpu, memory limit for init container zync-db-svc'
    openshift.io/deployment-config.latest-version: "3"
    openshift.io/deployment-config.name: zync
    openshift.io/deployment.name: zync-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-09-17T16:43:18Z"
  generateName: zync-3-
  labels:
    app: 3scale-api-management
    deployment: zync-3
    deploymentConfig: zync
    deploymentconfig: zync
    node-role.kubernetes.io/worker: ""
    threescale_component: zync
  name: zync-3-nqhk6
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: zync-3
    uid: 3f3b0435-ffa7-438a-8b43-8db692036d2e
  resourceVersion: "260707734"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-3-nqhk6
  uid: d452de1b-0280-4643-b54b-8981ade25a11
spec:
  containers:
  - env:
    - name: RAILS_LOG_TO_STDOUT
      value: "true"
    - name: RAILS_ENV
      value: production
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: DATABASE_URL
          name: zync
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: zync
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: POD_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    image: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 10
      httpGet:
        path: /status/live
        port: 8080
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 60
    name: zync
    ports:
    - containerPort: 8080
      protocol: TCP
    readinessProbe:
      failureThreshold: 3
      httpGet:
        path: /status/ready
        port: 8080
        scheme: HTTP
      initialDelaySeconds: 100
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 10
    resources:
      limits:
        cpu: "1"
        memory: 512Mi
      requests:
        cpu: 150m
        memory: 250M
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  initContainers:
  - command:
    - bash
    - -c
    - bundle exec sh -c "until rake boot:db; do sleep $SLEEP_SECONDS; done"
    env:
    - name: SLEEP_SECONDS
      value: "1"
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: DATABASE_URL
          name: zync
    image: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    imagePullPolicy: Always
    name: zync-db-svc
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  nodeName: worker-02.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:43:37Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:45:27Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:45:27Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:43:18Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://4187fbeff7f0c2db3f71c130f0631d3310c141bfc5ecbbc913bb5ccc26cb82c2
    image: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    imageID: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    lastState: {}
    name: zync
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-17T16:43:40Z"
  hostIP: 10.92.114.132
  initContainerStatuses:
  - containerID: cri-o://d20e7f95608832e72372ac8051f820e0d7757fb85501694d7e4e3b471a905500
    image: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    imageID: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    lastState: {}
    name: zync-db-svc
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: cri-o://d20e7f95608832e72372ac8051f820e0d7757fb85501694d7e4e3b471a905500
        exitCode: 0
        finishedAt: "2020-09-17T16:43:37Z"
        reason: Completed
        startedAt: "2020-09-17T16:43:35Z"
  phase: Running
  podIP: 10.131.3.50
  podIPs:
  - ip: 10.131.3.50
  qosClass: Burstable
  startTime: "2020-09-17T16:43:18Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync-database
    openshift.io/deployment.name: zync-database-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:53Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-database-1
  name: zync-database-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-database-1
    uid: bd1c99e1-6ca0-43c1-bfa9-a35c705ab733
  resourceVersion: "198379381"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-database-1-deploy
  uid: a00846b3-4987-41c8-9a40-a5337b2552a7
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-database-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:54Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:12Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:06:12Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:53Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://ad8c7ae073c1459222fe48a75cbd1890606a6771f358157cff2d32d35018a68c
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://ad8c7ae073c1459222fe48a75cbd1890606a6771f358157cff2d32d35018a68c
        exitCode: 0
        finishedAt: "2020-07-27T13:06:11Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:56Z"
  hostIP: 10.92.114.133
  phase: Succeeded
  podIP: 10.128.4.71
  podIPs:
  - ip: 10.128.4.71
  qosClass: Burstable
  startTime: "2020-07-27T13:05:54Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync-database
    openshift.io/deployment.name: zync-database-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:16:10Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-database-2
  name: zync-database-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-database-2
    uid: eff4b82d-a691-4fa9-9695-563725131fd0
  resourceVersion: "198496483"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-database-2-deploy
  uid: f25f3b75-1c3f-4942-af2c-54ae403354c8
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-database-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:16:10Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:21:44Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:21:44Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:16:10Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://ab9c85ffa863268666a29333c356fb5a88f7f62286bd0f7448088e901c426b7a
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://ab9c85ffa863268666a29333c356fb5a88f7f62286bd0f7448088e901c426b7a
        exitCode: 0
        finishedAt: "2020-07-27T15:21:44Z"
        reason: Completed
        startedAt: "2020-07-27T15:16:13Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.75
  podIPs:
  - ip: 10.130.3.75
  qosClass: Burstable
  startTime: "2020-07-27T15:16:10Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.128.0.66"
          ],
          "dns": {},
          "default-route": [
              "10.128.0.1"
          ]
      }]
    openshift.io/deployment-config.latest-version: "2"
    openshift.io/deployment-config.name: zync-database
    openshift.io/deployment.name: zync-database-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:29:11Z"
  generateName: zync-database-2-
  labels:
    app: 3scale-api-management
    deployment: zync-database-2
    deploymentConfig: zync-database
    deploymentconfig: zync-database
    node-role.kubernetes.io/worker: ""
    threescale_component: zync
    threescale_component_element: database
  name: zync-database-2-fwt2w
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: zync-database-2
    uid: eff4b82d-a691-4fa9-9695-563725131fd0
  resourceVersion: "198503009"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-database-2-fwt2w
  uid: 34e63ac4-e4ea-460f-9e4c-e0587bceb4e8
spec:
  containers:
  - env:
    - name: POSTGRESQL_USER
      value: zync
    - name: POSTGRESQL_PASSWORD
      valueFrom:
        secretKeyRef:
          key: ZYNC_DATABASE_PASSWORD
          name: zync
    - name: POSTGRESQL_DATABASE
      value: zync_production
    image: registry.redhat.io/rhscl/postgresql-10-rhel7@sha256:de3ab628b403dc5eed986a7f392c34687bddafee7bdfccfd65cecf137ade3dfd
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 3
      initialDelaySeconds: 30
      periodSeconds: 10
      successThreshold: 1
      tcpSocket:
        port: 5432
      timeoutSeconds: 1
    name: postgresql
    ports:
    - containerPort: 5432
      protocol: TCP
    readinessProbe:
      exec:
        command:
        - /bin/sh
        - -i
        - -c
        - psql -h 127.0.0.1 -U zync -q -d zync_production -c 'SELECT 1'
      failureThreshold: 3
      initialDelaySeconds: 5
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 1
    resources:
      limits:
        cpu: 250m
        memory: 2G
      requests:
        cpu: 50m
        memory: 250M
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/lib/pgsql/data
      name: zync-database-data
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: amp-token-5cmpq
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: amp-dockercfg-cvfh4
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: amp
  serviceAccountName: amp
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - emptyDir: {}
    name: zync-database-data
  - name: amp-token-5cmpq
    secret:
      defaultMode: 420
      secretName: amp-token-5cmpq
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:29:11Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:29:20Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:29:20Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:29:11Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://4b1179654e9858aa0a62f5d40ac913aaa2d9349d5baa23c517153bd4a395dd21
    image: registry.redhat.io/rhscl/postgresql-10-rhel7@sha256:de3ab628b403dc5eed986a7f392c34687bddafee7bdfccfd65cecf137ade3dfd
    imageID: registry.redhat.io/rhscl/postgresql-10-rhel7@sha256:de3ab628b403dc5eed986a7f392c34687bddafee7bdfccfd65cecf137ade3dfd
    lastState: {}
    name: postgresql
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-07-27T15:29:13Z"
  hostIP: 10.92.114.128
  phase: Running
  podIP: 10.128.0.66
  podIPs:
  - ip: 10.128.0.66
  qosClass: Burstable
  startTime: "2020-07-27T15:29:11Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync-que
    openshift.io/deployment.name: zync-que-1
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T13:05:52Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-que-1
  name: zync-que-1-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-que-1
    uid: 1a4fc234-8a1d-42af-bce7-9a610565e2a6
  resourceVersion: "198379084"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-que-1-deploy
  uid: 06166d07-b35d-4b36-affe-0e6be26691d0
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-que-1
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:58Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:58Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T13:05:52Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://8e7a6e822d30099040842bcec419360290503648341a5ce0d682692e188e93c1
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://8e7a6e822d30099040842bcec419360290503648341a5ce0d682692e188e93c1
        exitCode: 0
        finishedAt: "2020-07-27T13:05:58Z"
        reason: Completed
        startedAt: "2020-07-27T13:05:54Z"
  hostIP: 10.92.114.131
  phase: Succeeded
  podIP: 10.130.3.54
  podIPs:
  - ip: 10.130.3.54
  qosClass: Burstable
  startTime: "2020-07-27T13:05:52Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync-que
    openshift.io/deployment.name: zync-que-2
    openshift.io/scc: restricted
  creationTimestamp: "2020-07-27T15:16:31Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-que-2
  name: zync-que-2-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-que-2
    uid: ee9b79df-eeed-425c-ab0e-dd6866e55966
  resourceVersion: "198491930"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-que-2-deploy
  uid: 5c13d2b0-4f2f-48cf-b55f-6dc755335f1d
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-que-2
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: infra-01.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:16:31Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:16:42Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:16:42Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-07-27T15:16:31Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://6969da98ab7475cd23e3765a29343f4153eff29b3fb9b87d35d19dd98e05eeae
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://6969da98ab7475cd23e3765a29343f4153eff29b3fb9b87d35d19dd98e05eeae
        exitCode: 0
        finishedAt: "2020-07-27T15:16:42Z"
        reason: Completed
        startedAt: "2020-07-27T15:16:33Z"
  hostIP: 10.92.114.128
  phase: Succeeded
  podIP: 10.128.0.63
  podIPs:
  - ip: 10.128.0.63
  qosClass: Burstable
  startTime: "2020-07-27T15:16:31Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: ""
    kubernetes.io/limit-ranger: 'LimitRanger plugin set: cpu, memory request for container
      deployment; cpu, memory limit for container deployment'
    openshift.io/deployment-config.name: zync-que
    openshift.io/deployment.name: zync-que-3
    openshift.io/scc: restricted
  creationTimestamp: "2020-08-11T18:05:44Z"
  labels:
    openshift.io/deployer-pod-for.name: zync-que-3
  name: zync-que-3-deploy
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    kind: ReplicationController
    name: zync-que-3
    uid: 3ea55efe-68d9-4247-a1ac-f174083436f8
  resourceVersion: "216975152"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-que-3-deploy
  uid: 215c122d-716f-4161-8e14-f4099657bba2
spec:
  activeDeadlineSeconds: 21600
  containers:
  - env:
    - name: OPENSHIFT_DEPLOYMENT_NAME
      value: zync-que-3
    - name: OPENSHIFT_DEPLOYMENT_NAMESPACE
      value: 3scale-project
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imagePullPolicy: IfNotPresent
    name: deployment
    resources:
      limits:
        cpu: "2"
        memory: 1Gi
      requests:
        cpu: 200m
        memory: 1Gi
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: deployer-token-679s7
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: deployer-dockercfg-dl94k
  nodeName: worker-04.osepext01.claro.amx
  priority: 0
  restartPolicy: Never
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: deployer
  serviceAccountName: deployer
  shareProcessNamespace: false
  terminationGracePeriodSeconds: 10
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: deployer-token-679s7
    secret:
      defaultMode: 420
      secretName: deployer-token-679s7
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:44Z"
    reason: PodCompleted
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:13Z"
    reason: PodCompleted
    status: "False"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:06:13Z"
    reason: PodCompleted
    status: "False"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-08-11T18:05:44Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://eeae8bfc8feda90f8b4dafb920938c8230ca5527983fd5c691498c87a557ae59
    image: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    imageID: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:21f5aad0f5ec400213b30d1182d1a2308300cedd3562ccbda500ecce82f8a9de
    lastState: {}
    name: deployment
    ready: false
    restartCount: 0
    started: false
    state:
      terminated:
        containerID: cri-o://eeae8bfc8feda90f8b4dafb920938c8230ca5527983fd5c691498c87a557ae59
        exitCode: 0
        finishedAt: "2020-08-11T18:06:13Z"
        reason: Completed
        startedAt: "2020-08-11T18:05:47Z"
  hostIP: 10.92.114.134
  phase: Succeeded
  podIP: 10.129.4.31
  podIPs:
  - ip: 10.129.4.31
  qosClass: Burstable
  startTime: "2020-08-11T18:05:44Z"

apiVersion: v1
kind: Pod
metadata:
  annotations:
    k8s.v1.cni.cncf.io/networks-status: |-
      [{
          "name": "openshift-sdn",
          "interface": "eth0",
          "ips": [
              "10.129.3.159"
          ],
          "dns": {},
          "default-route": [
              "10.129.2.1"
          ]
      }]
    openshift.io/deployment-config.latest-version: "3"
    openshift.io/deployment-config.name: zync-que
    openshift.io/deployment.name: zync-que-3
    openshift.io/scc: restricted
    prometheus.io/port: "9394"
    prometheus.io/scrape: "true"
  creationTimestamp: "2020-09-17T16:51:50Z"
  generateName: zync-que-3-
  labels:
    app: 3scale-api-management
    deployment: zync-que-3
    deploymentConfig: zync-que
    deploymentconfig: zync-que
    node-role.kubernetes.io/worker: ""
  name: zync-que-3-h22x7
  namespace: 3scale-project
  ownerReferences:
  - apiVersion: v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicationController
    name: zync-que-3
    uid: 3ea55efe-68d9-4247-a1ac-f174083436f8
  resourceVersion: "260712778"
  selfLink: /api/v1/namespaces/3scale-project/pods/zync-que-3-h22x7
  uid: a9e0a0af-0db6-409c-b3f7-64e0debf3255
spec:
  containers:
  - args:
    - -c
    - bundle exec rake 'que[--worker-count 10]'
    command:
    - /usr/bin/bash
    env:
    - name: RAILS_LOG_TO_STDOUT
      value: "true"
    - name: RAILS_ENV
      value: production
    - name: DATABASE_URL
      valueFrom:
        secretKeyRef:
          key: DATABASE_URL
          name: zync
    - name: SECRET_KEY_BASE
      valueFrom:
        secretKeyRef:
          key: SECRET_KEY_BASE
          name: zync
    - name: ZYNC_AUTHENTICATION_TOKEN
      valueFrom:
        secretKeyRef:
          key: ZYNC_AUTHENTICATION_TOKEN
          name: zync
    - name: POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: POD_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    image: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    imagePullPolicy: Always
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /metrics
        port: 9394
        scheme: HTTP
      initialDelaySeconds: 10
      periodSeconds: 10
      successThreshold: 1
      timeoutSeconds: 60
    name: que
    ports:
    - containerPort: 9394
      name: metrics
      protocol: TCP
    resources:
      limits:
        cpu: "1"
        memory: 512Mi
      requests:
        cpu: 250m
        memory: 250M
    securityContext:
      capabilities:
        drop:
        - KILL
        - MKNOD
        - SETGID
        - SETUID
      runAsUser: 1000710000
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: zync-que-sa-token-2fdkc
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: threescale-registry-auth
  - name: zync-que-sa-dockercfg-bd56x
  nodeName: infra-03.osepext01.claro.amx
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 1000710000
    seLinuxOptions:
      level: s0:c27,c4
  serviceAccount: zync-que-sa
  serviceAccountName: zync-que-sa
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  volumes:
  - name: zync-que-sa-token-2fdkc
    secret:
      defaultMode: 420
      secretName: zync-que-sa-token-2fdkc
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:51:50Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:51:57Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:51:57Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2020-09-17T16:51:50Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: cri-o://1cb5fbae8493c5f44bce6bde523810a9b219c678a6d1817b9cb70b3dc1d3d881
    image: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    imageID: registry.redhat.io/3scale-amp2/zync-rhel7@sha256:f46b47b84450a81cb463b66dc86b91baf0dd60bdca275192925f6924b90a57bf
    lastState: {}
    name: que
    ready: true
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2020-09-17T16:51:56Z"
  hostIP: 10.92.114.130
  phase: Running
  podIP: 10.129.3.159
  podIPs:
  - ip: 10.129.3.159
  qosClass: Burstable
  startTime: "2020-09-17T16:51:50Z"

