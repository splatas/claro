
token=$(curl -k -X POST https://desa-login.claro.com.ar/auth/realms/DEV/protocol/openid-connect/token -d 'grant_type=client_credentials&client_id=d3f5dc80&client_secret=d11489d6698f10f0cfc2c481766b9d95&scope=openid' | python -c 'import json,sys;obj=json.load(sys.stdin);print obj["access_token"]')

curl -k -v -X GET http://apicast-dev-staging:8080 -H 'Authorization: Bearer '$token




curl "https://api-apicast-dev-staging-3scale-project.apps.osepext01.claro.amx:443/?app_id=9f263b94&app_key=b98615574830a93a7465242e58021585"


token=$(curl -k -X POST https://desa-login.claro.com.ar/auth/realms/DEV/protocol/openid-connect/token -d 'grant_type=client_credentials&client_id=d3f5dc80&client_secret=d11489d6698f10f0cfc2c481766b9d95&scope=openid' | python -c 'import json,sys;obj=json.load(sys.stdin);print obj["access_token"]')

curl -k -v -X GET http://apicast-dev-staging:8080/books  -H 'host:api-apicast-dev-staging-3scale-project.apps.osepext01.claro.amx' -H 'Authorization: Bearer '$token




{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLT0xKc014SG43MV9OcHo2bklOb1NjWEpQVWVlMGtLaF9XVjdhVDRCd1gwIn0.eyJleHAiOjE2MDA5NTY2NzEsImlhdCI6MTYwMDk1NjM3MSwianRpIjoiNWJkNmQ3ZjMtZTdiOC00MDQ3LWI5YzUtMDMwMDFjOGU1ZTQyIiwiaXNzIjoiaHR0cHM6Ly9kZXNhLWxvZ2luLmNsYXJvLmNvbS5hci9hdXRoL3JlYWxtcy9ERVYiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiM2ZjN2E0MGMtN2NkNC00M2NlLWE1NTYtMDdjYWI1Y2Q4OTViIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZDNmNWRjODAiLCJzZXNzaW9uX3N0YXRlIjoiOWQ0MTFlYWQtOTBjMi00MTZlLWJlNGUtODhiMzM5Y2I0YjU1IiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImNsaWVudEhvc3QiOiIxMC45Mi4xMTQuMTMwIiwiY2xpZW50SWQiOiJkM2Y1ZGM4MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoic2VydmljZS1hY2NvdW50LWQzZjVkYzgwIiwiY2xpZW50QWRkcmVzcyI6IjEwLjkyLjExNC4xMzAifQ.HtEoCUJImq_YoYsXBx3SkDZK3lvKCtw9aRcna2EfVCsvKwQpEKsXcfvyyd_K1VgfUPOcw64_9NgDblf7yl0sgQ-O24fg-cgUz1A1da4uO_NqMdumjj18hPidYuFAIP1232fB8ZLiJSCdPLlMaWwhfbEC8IQrd-4ZtO-OcFKTglLA_dHCZETlnwpG3lgYIMmmL9txKY7irzExSJ9fjftI331V1ZcTqO5VGzW72RChggMbkYcX1l3vcXZR0LClWP7YrLJ3vwxBVtsVtHdPrUjXsOLwW8jqXTgOmxwb3dz6YkFcYPPYK4vrztiijdOICJwTP0NXZpSyv8rDdxyWLuymnA","expires_in":300,"refresh_expires_in":1800,"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5N2I1MjI0NC0wOWJjLTQ5MjItYWYxZS02NTcyNWQxODI4NDIifQ.eyJleHAiOjE2MDA5NTgxNzEsImlhdCI6MTYwMDk1NjM3MSwianRpIjoiMjhhOGUxMTMtM2QxNS00MjhiLWFmNGQtZDQxMjYwNjg2NmNhIiwiaXNzIjoiaHR0cHM6Ly9kZXNhLWxvZ2luLmNsYXJvLmNvbS5hci9hdXRoL3JlYWxtcy9ERVYiLCJhdWQiOiJodHRwczovL2Rlc2EtbG9naW4uY2xhcm8uY29tLmFyL2F1dGgvcmVhbG1zL0RFViIsInN1YiI6IjNmYzdhNDBjLTdjZDQtNDNjZS1hNTU2LTA3Y2FiNWNkODk1YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkM2Y1ZGM4MCIsInNlc3Npb25fc3RhdGUiOiI5ZDQxMWVhZC05MGMyLTQxNmUtYmU0ZS04OGIzMzljYjRiNTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.ZmXaokKuFPfpVKPd6D8DdtpCpYiINAOUtqC2Ml0YzKA","token_type":"bearer","id_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLT0xKc014SG43MV9OcHo2bklOb1NjWEpQVWVlMGtLaF9XVjdhVDRCd1gwIn0.eyJleHAiOjE2MDA5NTY2NzEsImlhdCI6MTYwMDk1NjM3MSwiYXV0aF90aW1lIjowLCJqdGkiOiIwNjQyZTBkZS00ZTlkLTRmODYtYWRmZC03ZWRlYjBhNGRhODIiLCJpc3MiOiJodHRwczovL2Rlc2EtbG9naW4uY2xhcm8uY29tLmFyL2F1dGgvcmVhbG1zL0RFViIsImF1ZCI6ImQzZjVkYzgwIiwic3ViIjoiM2ZjN2E0MGMtN2NkNC00M2NlLWE1NTYtMDdjYWI1Y2Q4OTViIiwidHlwIjoiSUQiLCJhenAiOiJkM2Y1ZGM4MCIsInNlc3Npb25fc3RhdGUiOiI5ZDQxMWVhZC05MGMyLTQxNmUtYmU0ZS04OGIzMzljYjRiNTUiLCJhY3IiOiIxIiwiY2xpZW50SG9zdCI6IjEwLjkyLjExNC4xMzAiLCJjbGllbnRJZCI6ImQzZjVkYzgwIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZDNmNWRjODAiLCJjbGllbnRBZGRyZXNzIjoiMTAuOTIuMTE0LjEzMCJ9.e-P8elCn-hCz0A7sTVRukERZHisbnmBwheehZ6EQRMJ3HrMBELB5ThId8Aiow0ooUp-XIdd4u_RizRP4GjqXr0uBDtAhnKvfr3-G6RhOe1JAE8MkxF--h_mnFUSRkxRf9j4U-U08GIgajzkoUTBXWptH-i7OB4m4-Y1VZBFx_JASHE4aQP85OPID5ViPi-wWnC2_4_2vfIn505PM2EMNVpBfipb78w_9BsXkcXKy48KBYfIW6-k701bjz6d4IO-_sNG7aiEGjMTdszFdVzGS7RZ7REZY9iTAlfnbhSZYzBe2q-CXuIbWFIfoSAfFTip2x0PBmrXi03cSd9S0Nn6Hnw","not-before-policy":0,"session_state":"9d411ead-90c2-416e-be4e-88b339cb4b55","scope":"openid profile email"}


{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLT0xKc014SG43MV9OcHo2bklOb1NjWEpQVWVlMGtLaF9XVjdhVDRCd1gwIn0.eyJleHAiOjE2MDA5NTY2NzEsImlhdCI6MTYwMDk1NjM3MSwianRpIjoiNWJkNmQ3ZjMtZTdiOC00MDQ3LWI5YzUtMDMwMDFjOGU1ZTQyIiwiaXNzIjoiaHR0cHM6Ly9kZXNhLWxvZ2luLmNsYXJvLmNvbS5hci9hdXRoL3JlYWxtcy9ERVYiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiM2ZjN2E0MGMtN2NkNC00M2NlLWE1NTYtMDdjYWI1Y2Q4OTViIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZDNmNWRjODAiLCJzZXNzaW9uX3N0YXRlIjoiOWQ0MTFlYWQtOTBjMi00MTZlLWJlNGUtODhiMzM5Y2I0YjU1IiwiYWNyIjoiMSIsInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsImNsaWVudEhvc3QiOiIxMC45Mi4xMTQuMTMwIiwiY2xpZW50SWQiOiJkM2Y1ZGM4MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoic2VydmljZS1hY2NvdW50LWQzZjVkYzgwIiwiY2xpZW50QWRkcmVzcyI6IjEwLjkyLjExNC4xMzAifQ.HtEoCUJImq_YoYsXBx3SkDZK3lvKCtw9aRcna2EfVCsvKwQpEKsXcfvyyd_K1VgfUPOcw64_9NgDblf7yl0sgQ-O24fg-cgUz1A1da4uO_NqMdumjj18hPidYuFAIP1232fB8ZLiJSCdPLlMaWwhfbEC8IQrd-4ZtO-OcFKTglLA_dHCZETlnwpG3lgYIMmmL9txKY7irzExSJ9fjftI331V1ZcTqO5VGzW72RChggMbkYcX1l3vcXZR0LClWP7YrLJ3vwxBVtsVtHdPrUjXsOLwW8jqXTgOmxwb3dz6YkFcYPPYK4vrztiijdOICJwTP0NXZpSyv8rDdxyWLuymnA","expires_in":300,"refresh_expires_in":1800,"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5N2I1MjI0NC0wOWJjLTQ5MjItYWYxZS02NTcyNWQxODI4NDIifQ.eyJleHAiOjE2MDA5NTgxNzEsImlhdCI6MTYwMDk1NjM3MSwianRpIjoiMjhhOGUxMTMtM2QxNS00MjhiLWFmNGQtZDQxMjYwNjg2NmNhIiwiaXNzIjoiaHR0cHM6Ly9kZXNhLWxvZ2luLmNsYXJvLmNvbS5hci9hdXRoL3JlYWxtcy9ERVYiLCJhdWQiOiJodHRwczovL2Rlc2EtbG9naW4uY2xhcm8uY29tLmFyL2F1dGgvcmVhbG1zL0RFViIsInN1YiI6IjNmYzdhNDBjLTdjZDQtNDNjZS1hNTU2LTA3Y2FiNWNkODk1YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkM2Y1ZGM4MCIsInNlc3Npb25fc3RhdGUiOiI5ZDQxMWVhZC05MGMyLTQxNmUtYmU0ZS04OGIzMzljYjRiNTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIn0.ZmXaokKuFPfpVKPd6D8DdtpCpYiINAOUtqC2Ml0YzKA","token_type":"bearer","id_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJLT0xKc014SG43MV9OcHo2bklOb1NjWEpQVWVlMGtLaF9XVjdhVDRCd1gwIn0.eyJleHAiOjE2MDA5NTY2NzEsImlhdCI6MTYwMDk1NjM3MSwiYXV0aF90aW1lIjowLCJqdGkiOiIwNjQyZTBkZS00ZTlkLTRmODYtYWRmZC03ZWRlYjBhNGRhODIiLCJpc3MiOiJodHRwczovL2Rlc2EtbG9naW4uY2xhcm8uY29tLmFyL2F1dGgvcmVhbG1zL0RFViIsImF1ZCI6ImQzZjVkYzgwIiwic3ViIjoiM2ZjN2E0MGMtN2NkNC00M2NlLWE1NTYtMDdjYWI1Y2Q4OTViIiwidHlwIjoiSUQiLCJhenAiOiJkM2Y1ZGM4MCIsInNlc3Npb25fc3RhdGUiOiI5ZDQxMWVhZC05MGMyLTQxNmUtYmU0ZS04OGIzMzljYjRiNTUiLCJhY3IiOiIxIiwiY2xpZW50SG9zdCI6IjEwLjkyLjExNC4xMzAiLCJjbGllbnRJZCI6ImQzZjVkYzgwIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZDNmNWRjODAiLCJjbGllbnRBZGRyZXNzIjoiMTAuOTIuMTE0LjEzMCJ9.e-P8elCn-hCz0A7sTVRukERZHisbnmBwheehZ6EQRMJ3HrMBELB5ThId8Aiow0ooUp-XIdd4u_RizRP4GjqXr0uBDtAhnKvfr3-G6RhOe1JAE8MkxF--h_mnFUSRkxRf9j4U-U08GIgajzkoUTBXWptH-i7OB4m4-Y1VZBFx_JASHE4aQP85OPID5ViPi-wWnC2_4_2vfIn505PM2EMNVpBfipb78w_9BsXkcXKy48KBYfIW6-k701bjz6d4IO-_sNG7aiEGjMTdszFdVzGS7RZ7REZY9iTAlfnbhSZYzBe2q-CXuIbWFIfoSAfFTip2x0PBmrXi03cSd9S0Nn6Hnw","not-before-policy":0,"session_state":"9d411ead-90c2-416e-be4e-88b339cb4b55","scope":"openid profile email"}